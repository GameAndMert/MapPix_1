(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5876:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return bt},default:function(){return Mt}});var r=t(5893),o=t(6156),a=t(7294),i=t(9163),c=t(7714),s=t(3596),d=t(4152);var u=function(e){var n=e.wsHash,t=e.pos,o=(0,a.useRef)(null);return(0,a.useEffect)((function(){if(o.current)return(0,d.IN)(n,t),function(){(0,d.Y9)()}}),[o]),(0,r.jsx)("canvas",{style:{zIndex:-1,outline:"none"},ref:o,id:"canvas",tabIndex:1})},l=t(1664),p=t(3206),h=t(19),x=t(7434),f=t(2802),v=t(6782),m=t(3752),g=t(353),y=t(264),j=t(4949),k=t(980),w=t(660),b=t(2944),M=t(7438),C=t(3848),I=t(4699),S=t(7757),N=t.n(S),_=t(2137),Z=t(9669),T=t.n(Z),O=t(1912),P=t(7296),E=t(7137),R=t(3555),L=t(5924),B=t(8296),A=t(1053),D=["AB","AC","AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BY2","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CT","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DN","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","OS","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PV","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TA","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"],U=t(4651),z=t(5042),G=i.ZP.div.withConfig({displayName:"Chat__BottomButton",componentId:"sc-1jz0rf2-0"})(["font-size:1rem;height:35px;width:35px;transition:.2s;background-color:",";color:",";border:1px solid ",";box-sizing:border-box;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none;&:hover{background-color:",";}svg{color:",";}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),z.w.TEXT),K=(0,i.ZP)(G).withConfig({displayName:"Chat__ChatButton",componentId:"sc-1jz0rf2-1"})(["position:fixed;bottom:10px;right:50px;@media (max-height:800px){right:75px;}@media (max-height:450px){right:150px;}"]),X=i.ZP.div.withConfig({displayName:"Chat__UnreadBubble",componentId:"sc-1jz0rf2-2"})(["position:absolute;top:-5px;right:-5px;width:12px;height:12px;user-select:none;border-radius:100%;background-color:",";"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UNREAD,n)})),F=i.ZP.div.withConfig({displayName:"Chat__ChatWindow",componentId:"sc-1jz0rf2-3"})(["position:fixed;bottom:50px;right:50px;font-size:1rem;height:200px;width:300px;max-width:80vw;transition:.2s;z-index:10;background-color:",";border:1px solid ",";color:",";box-sizing:border-box;display:flex;flex-direction:column;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;font-size:.8rem;"," @media (max-height:800px){right:75px;}@media (max-height:450px){right:150px;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){return!e.show&&"\n    display: none;\n  "})),W=i.ZP.div.withConfig({displayName:"Chat__ChatText",componentId:"sc-1jz0rf2-4"})(["height:85%;padding:5px;box-sizing:border-box;overflow-y:scroll;display:flex;flex-direction:column;"]),H=i.ZP.div.withConfig({displayName:"Chat__ChatInteraction",componentId:"sc-1jz0rf2-5"})(["padding:5px;box-sizing:border-box;display:flex;flex-direction:row;align-items:stretch;gap:5px;input{width:80%;border:1px solid ",";border-radius:2px;background-color:",";color:",";}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)})),V=i.ZP.div.withConfig({displayName:"Chat__ChatMessage",componentId:"sc-1jz0rf2-6"})(["word-break:break-all;"]),Y=i.ZP.div.withConfig({displayName:"Chat__SendButton",componentId:"sc-1jz0rf2-7"})(["display:flex;align-items:center;justify-content:center;padding:2px 10px;border:1px solid ",";border-radius:2px;cursor:pointer;background-color:",";&:hover{opacity:0.8;}user-select:none;"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)})),J=i.ZP.div.withConfig({displayName:"Chat__ChannelButton",componentId:"sc-1jz0rf2-8"})(["display:flex;align-items:center;justify-content:center;padding:2px 10px;border:1px solid ",";border-radius:2px;cursor:pointer;background-color:",";&:hover{opacity:0.8;}user-select:none;"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)})),$=i.ZP.div.withConfig({displayName:"Chat__ChannelsContainer",componentId:"sc-1jz0rf2-9"})(["position:relative;> .channel-list{padding:2px 10px;border:1px solid ",";background-color:",";border-radius:2px;position:absolute;display:flex;flex-direction:column;bottom:24px;> p{padding:4px 0;margin:0;cursor:pointer;}}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)})),Q=i.ZP.div.withConfig({displayName:"Chat__NotConnected",componentId:"sc-1jz0rf2-10"})(["cursor:pointer;font-size:0.8rem;color:",";text-align:center;width:100%;&:hover{color:",";}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.LINK,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.HOVERED_LINK,n)}));function q(e){var n=e.match(/#(.)\((-?\d*),\s*(-?\d*),\s*(-?\d*)\)/);if(n&&5===n.length){var t=n[1],r=Number(n[2]),o=Number(n[3]),a=Number(n[4]),i=s.h.getState().canvases.find((function(e){return e.letter===t}));return!!i&&(i.id!==(null===s.h||void 0===s.h?void 0:s.h.getState().currentCanvas)&&(null===s.h||void 0===s.h||s.h.dispatch({type:R.bz,payload:i.id})),null===s.h||void 0===s.h||s.h.dispatch({type:B.V1,payload:{x:r,y:o,zoom:a}}),!0)}return!1}function ee(){var e=(0,P.$G)("chat").t,n=(0,c.I0)(),t=(0,U.useRouter)(),o=(0,a.useState)(""),i=o[0],u=o[1],l=(0,a.useState)(!0),p=l[0],h=l[1],x=(0,a.useState)(!1),f=x[0],v=x[1],m=(0,c.v9)((function(e){return e.channel})),g=(0,c.v9)((function(e){return e.channelMessages})),y=(0,c.v9)((function(e){return e.user})),j=(0,c.v9)((function(e){return e.showChat})),k=(0,a.useRef)(null),w=(0,a.useRef)(null),b=(0,c.v9)((function(e){return e.darkMode})),M=(0,c.v9)((function(e){return e.currentCanvas})),C=(0,c.v9)((function(e){return e.unreadMessage})),S=(0,c.v9)((function(e){return e.eraserMode})),Z=(0,c.v9)((function(e){return e.npzMode})),R=(0,c.v9)((function(e){return e.npzList})),z=function(e){var n;null===(n=(0,d.mh)())||void 0===n||n.connectionController.sendToWs("sendMessage",JSON.stringify({message:e,channel:m})),h(!0)},G=function(){var e=(0,_.Z)(N().mark((function e(){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),Z){e.next=7;break}return e.next=4,T().get("".concat(E.T,"/noPixelZone"),{headers:{Authorization:t}});case 4:e.t0=e.sent.data,e.next=8;break;case 7:e.t0=R;case 8:r=e.t0,n({type:B.JX,payload:{activated:!Z,npzs:r}}),n({type:A.Qn,payload:{author:"PixWorld",color:"green",msg:"NPZ mode: ".concat(!Z)}});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e;switch(i.split(" ")[0]){case"/here":var t=s.h.getState().position;z("#".concat(null===(e=s.h.getState().canvases.find((function(e){return e.id===M})))||void 0===e?void 0:e.letter,"(").concat(Math.round(t.x),",").concat(Math.round(t.y),",").concat(Math.round(t.zoom),")"));break;case"/npz":G();break;case"/eraser":n({type:B.Y5,payload:!S}),n({type:B.wv,payload:!0}),n({type:B.sW,payload:!0}),n({type:A.Qn,payload:{author:"PixWorld",color:"green",msg:"Eraser mode: ".concat(!S)}});break;case"/help":n({type:A.Qn,payload:{author:"PixWorld Help",color:"green",msg:"\n> == Commands ==\n> /help : Show this help\n> /here : Share your position\n> /setCountry [Country Code] : Set your chat country flag\n> == Other ==\n> Click on someone name to mention\n            "}});break;default:if(i.length>400)return void n({type:A.Qn,payload:{author:"PixWorld",color:"green",msg:"Your message exceeds the 400 characters limit"}});z(i)}u("")},ne=function(e,n){switch(e){case L.a.POSITION:q(n)}};return(0,a.useEffect)((function(){var e,n;g.length&&k.current?(k.current.scrollTop>=k.current.scrollHeight-k.current.clientHeight-(null!==(e=null===(n=k.current.lastElementChild)||void 0===n?void 0:n.clientHeight)&&void 0!==e?e:0)-13||p)&&(k.current.scrollTop=k.current.scrollHeight,p&&h(!1)):0===g.length&&h(!0)}),[g,k,j]),(0,a.useEffect)((function(){k.current&&(k.current.scrollTop=k.current.scrollHeight)}),[m]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(K,{onClick:function(){return n({type:A._7,payload:!j})},darkMode:b,children:[(0,r.jsx)(O.Z,{height:"20px"}),C&&(0,r.jsx)(X,{darkMode:b})]}),(0,r.jsxs)(F,{show:j,darkMode:b,children:[(0,r.jsx)(W,{ref:k,children:g.map((function(e,n){return(0,r.jsxs)(V,{children:[(0,r.jsx)("span",{title:isNaN(e.createdAt.getTime())?"":e.createdAt.toLocaleDateString("fr-FR")+" "+e.createdAt.toLocaleTimeString("fr-FR"),children:isNaN(e.createdAt.getTime())?"":e.createdAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})+" "}),(0,r.jsxs)("span",{style:{color:e.color,cursor:"pointer"},onClick:function(){return u(i+"@".concat(e.author))},children:[D.includes(e.country)&&(0,r.jsx)("img",{src:"/flags/".concat(e.country,".svg"),style:{height:"0.6rem",marginRight:"0.2rem"}}),e.tag&&"[".concat(e.tag,"] "),e.author]}),": ",(0,L.Z)(e.msg,ne,b,0)]},n)}))}),(0,r.jsx)(H,{darkMode:b,children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",ref:w,value:i,onChange:function(e){return u(e.target.value)},maxLength:400,onKeyDown:function(e){"Enter"===e.code&&ee()}}),(0,r.jsx)(Y,{onClick:ee,darkMode:b,children:e("send")}),(0,r.jsxs)($,{darkMode:b,children:[(0,r.jsx)(J,{darkMode:b,onClick:function(){return v(!f)},children:m}),f?(0,r.jsx)("div",{className:"channel-list",children:Object.entries(A.WV).map((function(e){var t=(0,I.Z)(e,2),o=t[0],a=t[1];return(0,r.jsx)("p",{onClick:function(){return n({type:A.D,payload:a})},children:a},o)}))}):null]})]}):(0,r.jsx)(Q,{onClick:function(){return t.push("/user/login")},darkMode:b,children:e("needConnect")})})]})]})}var ne=t(3791),te=i.ZP.div.withConfig({displayName:"ButtonList__ButtonListContainer",componentId:"sc-1ydatr2-0"})(["position:absolute;top:10px;left:10px;display:flex;flex-direction:column;align-items:flex-start;max-width:40px;gap:5px;flex-wrap:wrap;"]),re=i.ZP.div.withConfig({displayName:"ButtonList__ButtonListDropdown",componentId:"sc-1ydatr2-1"})(["display:flex;flex-direction:column;align-items:flex-start;gap:5px;flex-wrap:wrap;max-width:40px;max-height:calc(100vh - 150px);transition:.5s;opacity:",";"],(function(e){return e.show?"1":"0"})),oe=i.ZP.div.withConfig({displayName:"ButtonList__Button",componentId:"sc-1ydatr2-2"})(["background-color:",";border:1px solid ",";box-sizing:border-box;min-width:40px;height:40px;padding:8px 7px;display:flex;align-items:center;justify-content:center;cursor:pointer;&:hover{opacity:0.8;}svg{color:",";}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)})),ae=i.ZP.input.withConfig({displayName:"ButtonList__SearchInput",componentId:"sc-1ydatr2-3"})(["width:5rem;padding:.25rem .25rem;margin-left:0.5rem;margin-right:0.5rem;"]),ie=i.ZP.div.withConfig({displayName:"ButtonList__UnreadBubble",componentId:"sc-1ydatr2-4"})(["position:absolute;top:-4px;right:-4px;width:12px;height:12px;user-select:none;border-radius:100%;background-color:",";"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UNREAD,n)}));function ce(){var e=(0,c.I0)(),n=(0,a.useRef)(null),t=(0,c.v9)((function(e){return e.searchActive})),o=(0,c.v9)((function(e){return e.darkMode})),i=function(){n.current&&(!0===q(n.current.value)&&(e({type:M.ZS,payload:!1}),n.current.value=""))};return(0,a.useEffect)((function(){var e;t?n.current&&n.current.focus():null===(e=(0,d.mh)())||void 0===e||e.canvas.focus()}),[t]),(0,r.jsxs)(oe,{onClick:function(){return e({type:M.ZS,payload:!t})},darkMode:o,children:[(0,r.jsx)(p.Z,{}),t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ae,{ref:n,placeholder:"#w(-290,12,10)",onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){"Enter"===e.code&&i()},active:t,type:"text"}),(0,r.jsx)(h.Z,{height:"20px",onClick:function(e){e.stopPropagation(),i()}})]}):null]})}function se(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.darkMode})),t=(0,c.v9)((function(e){return e.showButtons})),o=(0,c.v9)((function(e){return e.lastNotificationDate})),i=(0,c.v9)((function(e){return e.lastReadNotificationDate})),s=(0,c.v9)((function(e){return e.autoBrush})),d=(0,c.v9)((function(e){var n,t;return(null===(n=e.user)||void 0===n?void 0:n.type)===ne.FW.ADMIN||(null===(t=e.user)||void 0===t?void 0:t.type)===ne.FW.MOD})),u=(0,a.useState)(!0),p=u[0],h=u[1];return(0,a.useEffect)((function(){if(!p&&t){var e=setTimeout((function(){h(!0)}),0);return function(){return clearTimeout(e)}}p&&!t&&h(!1)}),[t]),(0,a.useEffect)((function(){if(!p&&t){var n=setTimeout((function(){e({type:R.DV,payload:!1})}),500);return function(){return clearTimeout(n)}}}),[p]),(0,r.jsxs)(te,{children:[(0,r.jsx)(oe,{onClick:function(){t?h(!p):e({type:R.DV,payload:!t})},darkMode:n,children:p?(0,r.jsx)(x.Z,{}):(0,r.jsx)(f.Z,{})}),t&&(0,r.jsxs)(re,{show:p,children:[(0,r.jsx)(oe,{onClick:function(){return e({type:M.i0,payload:C.Z.INFOS})},darkMode:n,children:(0,r.jsx)(v.Z,{})}),(0,r.jsx)(l.default,{href:"/user/home",children:(0,r.jsxs)("a",{style:{color:"inherit",position:"relative"},children:[(0,r.jsx)(oe,{darkMode:n,children:(0,r.jsx)(m.Z,{})}),o>i?(0,r.jsx)(ie,{darkMode:n}):null]})}),(0,r.jsx)(oe,{onClick:function(){return e({type:M.i0,payload:C.Z.CONVERTER})},darkMode:n,children:(0,r.jsx)(g.Z,{})}),(0,r.jsx)(oe,{onClick:function(){return e({type:M.i0,payload:C.Z.PARAMETERS})},darkMode:n,children:(0,r.jsx)(y.Z,{})}),(0,r.jsx)(oe,{onClick:function(){return e({type:M.i0,payload:C.Z.CANVASES})},darkMode:n,children:(0,r.jsx)(j.Z,{})}),(0,r.jsx)(oe,{onClick:function(){return e({type:M.i0,payload:C.Z.BOOKMARKS})},darkMode:n,children:(0,r.jsx)(k.Z,{})}),d?(0,r.jsx)(oe,{onClick:function(){return e({type:M.i0,payload:C.Z.MODERATION})},darkMode:n,children:(0,r.jsx)(w.Z,{})}):null,(0,r.jsx)(oe,{onClick:function(){return e({type:R.pq,payload:!s})},darkMode:n,children:(0,r.jsx)(b.Z,{style:{color:(0,z.L)(s?z.w.UNREAD:z.w.TEXT,n)}})}),(0,r.jsx)(ce,{})]})]})}var de=i.ZP.div.withConfig({displayName:"CursorPosition__Pos",componentId:"sc-1qqnjat-0"})(["position:fixed;bottom:10px;left:10px;font-size:1rem;height:35px;background-color:",";border:1px solid ",";color:",";padding:0 10px;min-width:50px;text-align:center;gap:10px;display:flex;align-items:center;justify-content:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;user-select:none;cursor:pointer;"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}));function ue(){var e=(0,c.v9)((function(e){return e.cursorPos})),n=(0,c.v9)((function(e){return e.position})),t=(0,c.v9)((function(e){return e.darkMode})),o=(0,a.useState)(!0),i=o[0],d=o[1],u=i?e:n;return(0,r.jsxs)(de,{darkMode:t,onClick:function(){if(navigator.clipboard){var e,t="#".concat(null===s.h||void 0===s.h||null===(e=s.h.getState().canvases.find((function(e){return e.id===(null===s.h||void 0===s.h?void 0:s.h.getState().currentCanvas)})))||void 0===e?void 0:e.letter,"(").concat(Math.round(n.x),",").concat(Math.round(n.y),",10)");navigator.clipboard.writeText(t),null===s.h||void 0===s.h||s.h.dispatch({type:M.kA,payload:{show:!0,text:"clipboard",color:z.w.UI_BACKGROUND}})}},onMouseEnter:function(){return d(!1)},onMouseLeave:function(){return d(!0)},children:["(",Math.round(u.x),", ",Math.round(u.y),")"]})}var le,pe=t(3777),he=t(7329),xe=i.ZP.div.withConfig({displayName:"Infos__Text",componentId:"sc-hyhrn3-0"})(["text-align:left;margin:auto;width:fit-content;max-width:560px;"]),fe=i.ZP.span.withConfig({displayName:"Infos__Key",componentId:"sc-hyhrn3-1"})(["border:1px solid ",";padding:0.3rem 0.4rem;border-radius:0.4rem;color:",";font-weight:bold;font-size:0.8rem;line-height:2rem;"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}));!function(e){e.TEXT="TEXT",e.BREAK="BREAK",e.KEY="KEY",e.TAB="TAB"}(le||(le={}));var ve=[{type:le.BREAK,regex:/\n/gm},{type:le.KEY,regex:/Key([^\s]*)/gm},{type:le.TAB,regex:/\s\s/gm}];function me(e){var n,t=(0,c.v9)((function(e){return e.darkMode})),o=[];ve.forEach((function(n){var t,r=n.type,a=n.regex,i=(0,he.Z)(e.matchAll(a));(t=o).push.apply(t,(0,he.Z)(i.map((function(e){return{type:r,text:e[0],index:e.index}}))))})),o=o.sort((function(e,n){return e.index-n.index}));var i=0;return(n=o).push.apply(n,(0,he.Z)(o.map((function(n){var t=n.index,r=n.text.length,o={type:le.TEXT,text:e.substr(i,t-i),index:i};return i=t+r,o})).concat([{type:le.TEXT,text:e.substr(i),index:i}]))),o=o.sort((function(e,n){return e.index-n.index})),(0,r.jsx)(r.Fragment,{children:o.map((function(e,n){var o=e.type,i=e.text;switch(o){case le.TEXT:return(0,r.jsx)(a.Fragment,{children:i},n);case le.BREAK:return(0,r.jsx)("br",{},n);case le.KEY:return(0,r.jsx)(fe,{darkMode:t,children:i.substr(3)},n);case le.TAB:return(0,r.jsx)(a.Fragment,{children:"\xa0\xa0"},n)}}))})}function ge(){var e=(0,P.$G)("infos").t;return(0,r.jsxs)(r.Fragment,{children:[e("text"),(0,r.jsx)("br",{}),(0,r.jsx)("hr",{}),e("madeBy"),(0,r.jsx)("br",{}),e("os")," ",(0,r.jsx)("a",{href:"https://github.com/Henrixounez/PixWorld-Frontend",children:"Frontend"})," & ",(0,r.jsx)("a",{href:"https://github.com/Henrixounez/PixWorld-Backend",children:"Backend"}),(0,r.jsx)("br",{}),e("discord")," ",(0,r.jsx)("a",{href:"https://discord.gg/kQPsRxNuDr",children:"Discord"}),(0,r.jsx)("hr",{}),(0,r.jsx)(xe,{children:me(e("rules"))}),(0,r.jsx)("hr",{}),(0,r.jsx)(xe,{children:me(e("controls"))})]})}function ye(){var e=(0,c.v9)((function(e){return e.disconnectReason})),n=(0,P.$G)("problem").t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:e?e.split("\n").map((function(e,n){return(0,r.jsxs)(a.Fragment,{children:[e,(0,r.jsx)("br",{})]},n)})):n("connectionLost")}),(0,r.jsx)("hr",{}),n("refresh"),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:function(){return location.reload()},children:n("refreshBtn")})]})}var je=t(4684),ke=t(9585),we=t(2866),be=["en","fr","ptbr","ru","es","tr"],Me=["en","fr","pt-br","ru","es","tr"],Ce=t(2929),Ie=t(8200),Se=i.ZP.div.withConfig({displayName:"Parameters__InputRow",componentId:"sc-i9jb57-0"})(["cursor:pointer;display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:10px;width:80%;margin:auto;user-select:none;.checkbox{width:15px;height:15px;}"]);function Ne(){var e=(0,P.$G)("parameters"),n=e.t,t=e.i18n,o=(0,U.useRouter)(),a=(0,c.I0)(),i=(0,c.v9)((function(e){return e.gridActive})),s=(0,c.v9)((function(e){return e.zoomTowardCursor})),u=(0,c.v9)((function(e){return e.activity})),l=(0,c.v9)((function(e){return e.notifications})),p=(0,c.v9)((function(e){return e.sounds})),h=(0,c.v9)((function(e){return e.history.activate})),x=(0,c.v9)((function(e){return e.darkMode})),f=(0,c.v9)((function(e){return e.gridSize}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){var e,n,t=null===(e=(0,d.mh)())||void 0===e?void 0:e.canvas;if(null===(n=(0,d.mh)())||void 0===n||n.setZoom(Ie.Z),t){var r=t.toDataURL("image/png"),o=document.createElement("a");o.download="pixworld-download.png",o.href=r,o.click()}},children:[n("download"),(0,r.jsx)("div",{children:(0,r.jsx)(we.Z,{})})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){return a({type:R.EA,payload:!i})},children:[n("grid"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"gridActive",checked:i,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){return a({type:R.vw,payload:!s})},children:[n("zoomCursor"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"zoomTowardCursor",checked:s,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){return a({type:R.jt,payload:!u})},children:[n("activity"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"activity",checked:u,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:(0,_.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=6;break}return e.next=3,Notification.requestPermission();case 3:a({type:R.So,payload:!l}),e.next=7;break;case 6:a({type:R.So,payload:!l});case 7:case"end":return e.stop()}}),e)}))),children:[n("notifications"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"notifications",checked:l,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){return a({type:R.iz,payload:!p})},children:[n("sounds"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"sounds",checked:p,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){return a({type:Ce.US,payload:!h})},children:[n("history"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"history",checked:h,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{onClick:function(){return a({type:R.AC,payload:!x})},children:[n("darkMode"),(0,r.jsx)("input",{type:"checkbox",className:"checkbox",id:"darkMode",checked:x,readOnly:!0})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{children:[n("gridSize"),(0,r.jsx)("input",{type:"number",id:"gridSize",value:f,min:1,onChange:function(e){return a({type:R.d8,payload:Number(e.target.value)})}})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)(Se,{children:[n("language"),(0,r.jsx)("select",{value:t.language,onChange:function(e){(new ke.Z).set("NEXT_LOCALE",e.target.value),o.push(o.pathname,o.asPath,{locale:e.target.value})},children:be.map((function(e,n){return(0,r.jsx)("option",{value:e,children:Me[n]},n)}))})]})]})}var _e=t(51),Ze=i.ZP.div.withConfig({displayName:"Captcha__Container",componentId:"sc-1y3deie-0"})(["display:flex;flex-direction:column;align-items:center;height:80%;margin:10% 0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;justify-content:space-around;@media (max-height:800px){font-size:0.8rem;height:90%;margin:5% 0;}img{border:1px solid ",";max-width:60vw;max-height:30vh;}h1{margin:0;}p{margin:0;span{font-weight:100;font-size:0.8rem;color:",";}}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.LIGHT_TEXT,n)})),Te=i.ZP.form.withConfig({displayName:"Captcha__FormRow",componentId:"sc-1y3deie-1"})(["display:flex;flex-direction:row;gap:1rem;width:100%;margin-top:1rem;justify-content:center;input{text-align:center;background-color:",";border:1px solid ",";color:",";}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)})),Oe=i.ZP.button.withConfig({displayName:"Captcha__SendButton",componentId:"sc-1y3deie-2"})(["padding:5px;border:1px solid ",";color:",";border-radius:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;outline:none;&:hover{opacity:0.8;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)})),Pe=i.ZP.div.withConfig({displayName:"Captcha__RefreshButton",componentId:"sc-1y3deie-3"})(["cursor:pointer;display:flex;align-items:center;justify-content:center;padding:5px;border:1px solid ",";border-radius:2px;&:hover{opacity:0.8;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}));function Ee(){var e=(0,P.$G)("captcha").t,n=(0,c.v9)((function(e){return e.darkMode})),t=(0,c.I0)(),o=(0,a.useRef)(null),i=(0,a.useState)(""),s=i[0],u=i[1],l=(0,a.useState)(""),p=l[0],h=l[1],x=function(){var e=(0,_.Z)(N().mark((function e(n){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,T().post(E.T+"/captcha/verify",{text:p});case 4:null===(r=(0,d.mh)())||void 0===r||r.canvas.focus(),t({type:M.i0,payload:C.Z.NONE}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f();case 11:h("");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){u("".concat(E.T,"/captcha.png?").concat(Date.now()))};return(0,a.useEffect)((function(){f()}),[]),(0,a.useEffect)((function(){var e;null===(e=o.current)||void 0===e||e.focus()}),[o]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Ze,{darkMode:n,children:[(0,r.jsxs)("h1",{children:[e("title")," \ud83e\udd16"]}),(0,r.jsxs)("p",{children:[e("subtitle"),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:e("tips")})]}),(0,r.jsx)("img",{src:s,alt:"CAPTCHA"}),(0,r.jsxs)(Te,{onSubmit:x,darkMode:n,children:[(0,r.jsx)(Pe,{onClick:function(e){e.preventDefault(),f()},darkMode:n,children:(0,r.jsx)(_e.Z,{})}),(0,r.jsx)("input",{type:"text",placeholder:e("input"),value:p,onChange:function(e){return h(e.target.value)},ref:o}),(0,r.jsx)(Oe,{type:"submit",darkMode:n,children:e("send")})]})]})})}var Re=t(9737),Le=t(833),Be=t(6445),Ae=t(9663),De=t(9968),Ue=i.ZP.div.withConfig({displayName:"Overlay__Container",componentId:"sc-o54c7v-0"})(["display:flex;flex-direction:column;align-items:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;gap:1rem;"]),ze=i.ZP.div.withConfig({displayName:"Overlay__OverlayRow",componentId:"sc-o54c7v-1"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:90%;gap:1rem;flex-wrap:wrap;input{width:50%;}img{background-color:",";padding:0.5rem;width:15%;max-height:50px;object-fit:scale-down;}div{display:flex;flex-direction:row;gap:1rem;svg{cursor:pointer;transition:.2s;&:hover{transform:scale(1.1);}}}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,!n)})),Ge=i.ZP.div.withConfig({displayName:"Overlay__AddNew",componentId:"sc-o54c7v-2"})(["display:flex;flex-direction:row;align-items:center;gap:1rem;margin-top:4rem;justify-content:center;input{max-width:30vw;border-color:",";}svg{cursor:pointer;transition:.2s;&:hover{transform:scale(1.1);}}"],(function(e){var n=e.error,t=e.darkMode;return n?(0,z.L)(z.w.ALERT,t):"initial"}));function Ke(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.darkMode})),t=(0,a.useState)([]),o=t[0],i=t[1],s=(0,a.useState)(""),d=s[0],u=s[1],l=(0,a.useState)(!1),p=l[0],h=l[1];(0,a.useEffect)((function(){var e=localStorage.getItem("savedOverlays");e&&i(JSON.parse(e))}),[]);return(0,r.jsxs)(Ue,{children:[o.map((function(t,a){return(0,r.jsxs)(ze,{darkMode:n,children:[(0,r.jsx)("img",{src:t.image,width:"80px"}),(0,r.jsx)("input",{readOnly:!0,value:JSON.stringify(t)}),(0,r.jsxs)("div",{children:[(0,r.jsx)(Re.Z,{onClick:function(){return function(e){navigator.clipboard&&navigator.clipboard.writeText(JSON.stringify(o[e]))}(a)}}),(0,r.jsx)(Le.Z,{onClick:function(){return function(e){var n=o.filter((function(n,t){return t!==e}));i(n),localStorage.setItem("savedOverlays",JSON.stringify(n))}(a)}}),(0,r.jsx)(Be.Z,{onClick:function(){return function(n){var t=o[n];e({type:De.Hz,payload:t.image}),e({type:De.U4,payload:t.transparency}),e({type:De.fA,payload:t.position}),e({type:De.El,payload:t.autoColor})}(a)}})]})]},a)})),(0,r.jsxs)(Ge,{error:p,darkMode:n,children:[(0,r.jsx)("input",{type:"text",value:d,onChange:function(e){return u(e.target.value)}}),(0,r.jsx)(Ae.Z,{onClick:function(){return function(){try{var e=JSON.parse(d);if(!e.image||!e.transparency||!e.position||!e.position.x||!e.position.y||!e.autoColor)return void h(!0);var n=o.findIndex((function(n){return n.image===e.image})),t={image:e.image,transparency:e.transparency,position:{x:e.position.x,y:e.position.y},autoColor:e.autoColor};-1!==n?o[n]=t:o.push(t),i((0,he.Z)(o)),localStorage.setItem("savedOverlays",JSON.stringify((0,he.Z)(o))),h(!1)}catch(r){h(!0)}}()}})]})]})}var Xe=i.ZP.div.withConfig({displayName:"Bookmarks__Container",componentId:"sc-1k5j05k-0"})(["display:flex;flex-direction:column;align-items:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;gap:1rem;"]),Fe=i.ZP.div.withConfig({displayName:"Bookmarks__OverlayRow",componentId:"sc-1k5j05k-1"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:90%;gap:1rem;flex-wrap:wrap;input{width:50%;}img{width:15%;max-height:50px;object-fit:scale-down;}div{display:flex;flex-direction:row;gap:1rem;svg{cursor:pointer;transition:.2s;&:hover{transform:scale(1.1);}}}"]),We=i.ZP.div.withConfig({displayName:"Bookmarks__AddNew",componentId:"sc-1k5j05k-2"})(["display:flex;flex-direction:row;align-items:center;gap:1rem;margin-top:4rem;justify-content:center;input{max-width:30vw;border-color:",";}svg{cursor:pointer;transition:.2s;&:hover{transform:scale(1.1);}}"],(function(e){var n=e.error,t=e.darkMode;return n?(0,z.L)(z.w.ALERT,t):"initial"}));function He(){var e=(0,P.$G)("bookmark").t,n=(0,c.I0)(),t=(0,c.v9)((function(e){return e.darkMode})),o=(0,a.useState)([]),i=o[0],d=o[1],u=(0,a.useState)(""),l=u[0],p=u[1],x=(0,a.useState)(function(e,n){var t,r=null===(t=s.h.getState().canvases.find((function(n){return n.id===e})))||void 0===t?void 0:t.letter,o=Math.round(n.x),a=Math.round(n.y),i=Math.round(n.zoom);return"#".concat(r,"(").concat(o,",").concat(a,",").concat(i,")")}(s.h.getState().currentCanvas,s.h.getState().position)),f=x[0],v=x[1],m=(0,a.useState)(!1),g=m[0],y=m[1];(0,a.useEffect)((function(){var e=localStorage.getItem("savedBookmarks");e&&d(JSON.parse(e))}),[]);return(0,r.jsxs)(Xe,{children:[i.map((function(e,o){return(0,r.jsxs)(Fe,{darkMode:t,children:[(0,r.jsx)("div",{children:e.title}),(0,r.jsx)("div",{children:e.position}),(0,r.jsxs)("div",{children:[(0,r.jsx)(Re.Z,{onClick:function(){return function(e){navigator.clipboard&&navigator.clipboard.writeText(i[e].position)}(o)}}),(0,r.jsx)(Le.Z,{onClick:function(){return function(e){var n=i.filter((function(n,t){return t!==e}));d(n),localStorage.setItem("savedBookmarks",JSON.stringify(n))}(o)}}),(0,r.jsx)(h.Z,{onClick:function(){return function(e){q(i[e].position),n({type:M.i0,payload:C.Z.NONE})}(o)}})]})]},o)})),(0,r.jsxs)(We,{error:g,darkMode:t,children:[(0,r.jsx)("input",{type:"text",value:l,placeholder:e("name"),onChange:function(e){return p(e.target.value)}}),(0,r.jsx)("input",{type:"text",value:f,placeholder:e("position"),onChange:function(e){return v(e.target.value)}}),(0,r.jsx)(Ae.Z,{onClick:function(){return function(){try{var e=l,n=f;if(!e)return void y(!0);var t=i.findIndex((function(n){return n.title===e})),r={title:e,position:n};-1!==t?i[t]=r:i.push(r),d((0,he.Z)(i)),localStorage.setItem("savedBookmarks",JSON.stringify((0,he.Z)(i))),p(""),y(!1)}catch(o){y(!0)}}()}})]})]})}var Ve=i.ZP.div.withConfig({displayName:"Canvases__Container",componentId:"sc-f2l2w5-0"})(['display:flex;flex-direction:column;align-items:center;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;gap:1rem;padding:0px 16px;']),Ye=i.ZP.div.withConfig({displayName:"Canvases__CanvasItem",componentId:"sc-f2l2w5-1"})(["display:flex;flex-direction:row;align-items:center;width:100%;border:1px solid ",";border-radius:0.5rem;padding:16px 8px;cursor:pointer;.img-container{> img{width:100px;height:100px;}flex:1;}.colors-container{flex:1;display:flex;flex-direction:row;flex-wrap:wrap;gap:1px;> div{width:10px;height:10px;}}> p{flex:1;}"],(function(e){var n=e.darkMode,t=e.selected;return(0,z.L)(t?z.w.ALERT:z.w.UI_BORDER,n)}));function Je(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.darkMode})),t=(0,c.v9)((function(e){return e.canvases})),o=(0,c.v9)((function(e){return e.currentCanvas}));return(0,r.jsx)(Ve,{children:t.map((function(t,a){return(0,r.jsxs)(Ye,{darkMode:n,selected:t.id===o,onClick:function(){e({type:R.bz,payload:t.id}),e({type:B.V1,payload:{x:0,y:0,zoom:1}})},children:[(0,r.jsx)("div",{className:"img-container",children:(0,r.jsx)("img",{src:"".concat(E.T,"/superchunk/").concat(t.id,"/").concat(t.superchunkLevels.length-1,"/0/0")})}),(0,r.jsx)("p",{children:t.name}),(0,r.jsxs)("p",{children:[t.cooldownTime/1e3,"s / ",t.cooldownTime/2e3,"s"]}),(0,r.jsxs)("p",{children:[256*t.size,"x",256*t.size," pixels"]}),(0,r.jsx)("div",{className:"colors-container",children:t.palette.map((function(e){return(0,r.jsx)("div",{style:{backgroundColor:e}})}))})]},a)}))})}var $e=t(9046),Qe=t(1643),qe=t(1384),en=t(1214),nn=t(9865),tn=t(1414),rn=i.ZP.div.withConfig({displayName:"components__ModalBoxContainer",componentId:"sc-eiozvp-0"})(["border-radius:.5rem;margin:1rem auto;max-width:1500px;width:100%;box-sizing:border-box;"," "," @media(max-width:500px){margin:0.5rem auto;}"],(function(e){return"success"===e.status&&(0,i.iv)(["border:2px solid #3aa1a1;"])}),(function(e){return"error"===e.status&&(0,i.iv)(["border:2px solid #a53030;"])})),on=i.ZP.div.withConfig({displayName:"components__ModalErrorBox",componentId:"sc-eiozvp-1"})(["padding:1rem;color:#a53030;@media(max-width:500px){padding:0.5rem;}"]),an=i.ZP.h1.withConfig({displayName:"components__ModalBoxTitle",componentId:"sc-eiozvp-2"})(["font-size:1.5rem;padding:1rem;margin:0;@media(max-width:500px){font-size:0.7rem;padding:0.5rem 1rem;}"]),cn=i.ZP.form.withConfig({displayName:"components__ModalQueryForm",componentId:"sc-eiozvp-3"})(["display:flex;flex-direction:column;align-self:stretch;gap:0.5rem;label{padding:1rem;}button{display:flex;align-items:center;padding:1rem;color:",";border:1px solid ",";border-radius:4px;font-size:1rem;cursor:pointer;transition:.1s;svg{transition:.2s;}box-shadow:none;&:hover{box-shadow:none;}}@media(max-width:500px){label{padding:0.5rem;}button{padding:0.5rem;font-size:0.7rem;svg{width:16px;height:16px;}}}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)})),sn=(i.ZP.button.withConfig({displayName:"components__ModalButton",componentId:"sc-eiozvp-4"})(["display:flex;align-items:center;padding:1rem;color:",";background-color:",";border:1px solid ",";border-radius:4px;font-size:1rem;cursor:pointer;transition:.1s;svg{transition:.2s;}@media(max-width:500px){button{padding:0.5rem;font-size:0.7rem;svg{width:16px;height:16px;}}}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)})),i.ZP.input.withConfig({displayName:"components__ModalTextfield",componentId:"sc-eiozvp-5"})(["flex:1;padding:1rem;color:",";border:none;border-radius:0;min-width:5rem;border-radius:4px;border:1px solid ",";&:hover{outline-offset:0px;outline:-webkit-focus-ring-color auto 1px;}@media(max-width:500px){font-size:0.7rem;padding:0.5rem;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}))),dn=(i.ZP.textarea.withConfig({displayName:"components__ModalTextarea",componentId:"sc-eiozvp-6"})(["font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;flex:1;padding:1rem;color:",";border:1px solid ",";border:none;border-radius:4px;min-width:5rem;&:hover{outline-offset:0px;outline:-webkit-focus-ring-color auto 1px;}@media(max-width:500px){font-size:0.7rem;padding:0.5rem;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)})),i.ZP.div.withConfig({displayName:"components__ModalCheckbox",componentId:"sc-eiozvp-7"})(["display:flex;align-items:center;justify-content:center;cursor:pointer;padding:1rem;svg{transition:.2s;}&:hover{svg{color:#4bc0c0;}}@media(max-width:500px){padding:0.5rem;svg{width:16px;height:16px;}}"])),un=i.ZP.div.withConfig({displayName:"components__ModalCoordRow",componentId:"sc-eiozvp-8"})(["display:flex;flex-direction:row;align-items:stretch;gap:0.5rem;"]);i.ZP.div.withConfig({displayName:"components__ModalBoxRow",componentId:"sc-eiozvp-9"})(["padding:1rem;display:flex;flex-direction:row;align-items:center;gap:0.5rem;"]);function ln(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)(""),i=o[0],s=o[1],d=(0,a.useState)(""),u=d[0],l=d[1],p=(0,a.useState)(!1),h=p[0],x=p[1],f=(0,a.useState)(""),v=f[0],m=f[1],g=(0,a.useState)(""),y=g[0],j=g[1],k=(0,c.v9)((function(e){return e.darkMode})),w=function(){var e=(0,_.Z)(N().mark((function e(r){var o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,j(""),m(""),o=localStorage.getItem("token"),e.next=7,T().post("".concat(E.T,"/admin/ban"),{ip:n,ban:h,reason:i,date:u},{headers:{Authorization:o}});case 7:t(""),s(""),l(""),m("success"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),j(e.t0.response.data||e.t0.message),m("error");case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:k,status:v,children:[(0,r.jsx)(an,{darkMode:k,children:"Ban IP"}),(0,r.jsx)(cn,{onSubmit:w,darkMode:k,children:(0,r.jsxs)(un,{darkMode:k,children:[(0,r.jsx)(sn,{placeholder:"IP",type:"text",value:n,required:!0,onChange:function(e){return t(e.target.value)},darkMode:k}),(0,r.jsx)(sn,{placeholder:"Reason",type:"text",value:i,required:h,onChange:function(e){return s(e.target.value)},darkMode:k}),(0,r.jsx)(sn,{type:"datetime-local",value:u,min:(0,qe.Z)(new Date,"yyyy-MM-dd'T'hh:mm"),step:60,onChange:function(e){return l(e.target.value)},darkMode:k}),(0,r.jsx)(dn,{onClick:function(){return x(!h)},darkMode:k,children:h?(0,r.jsx)(en.Z,{}):(0,r.jsx)(nn.Z,{})}),(0,r.jsx)("button",{children:(0,r.jsx)(tn.Z,{})})]})}),y?(0,r.jsx)(on,{darkMode:k,children:y}):null]})}function pn(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)(""),i=o[0],s=o[1],d=(0,a.useState)(""),u=d[0],l=d[1],p=(0,a.useState)(!1),h=p[0],x=p[1],f=(0,a.useState)(""),v=f[0],m=f[1],g=(0,a.useState)(""),y=g[0],j=g[1],k=(0,c.v9)((function(e){return e.darkMode})),w=function(){var e=(0,_.Z)(N().mark((function e(r){var o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,j(""),m(""),o=localStorage.getItem("token"),e.next=7,T().post("".concat(E.T,"/admin/banUser"),{username:n,ban:h,reason:i,date:u},{headers:{Authorization:o}});case 7:t(""),s(""),l(""),m("success"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),j(e.t0.response.data||e.t0.message),m("error");case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{status:v,darkMode:k,children:[(0,r.jsx)(an,{darkMode:k,children:"Ban User"}),(0,r.jsx)(cn,{onSubmit:w,darkMode:k,children:(0,r.jsxs)(un,{darkMode:k,children:[(0,r.jsx)(sn,{placeholder:"Username",type:"text",value:n,onChange:function(e){return t(e.target.value)},darkMode:k}),(0,r.jsx)(sn,{placeholder:"Reason",type:"text",value:i,required:h,onChange:function(e){return s(e.target.value)},darkMode:k}),(0,r.jsx)(sn,{type:"datetime-local",value:u,min:(0,qe.Z)(new Date,"yyyy-MM-dd'T'hh:mm"),step:60,onChange:function(e){return l(e.target.value)},darkMode:k}),(0,r.jsx)(dn,{onClick:function(){return x(!h)},darkMode:k,children:h?(0,r.jsx)(en.Z,{}):(0,r.jsx)(nn.Z,{})}),(0,r.jsx)("button",{children:(0,r.jsx)(tn.Z,{})})]})}),y?(0,r.jsx)(on,{darkMode:k,children:y}):null]})}function hn(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ln,{}),(0,r.jsx)(pn,{})]})}var xn=t(6915),fn=i.ZP.div.withConfig({displayName:"Logs__ContainerLogsResult",componentId:"sc-i1ocl9-0"})(["max-height:500px;overflow:auto;position:relative;"]),vn=i.ZP.table.withConfig({displayName:"Logs__LogsResults",componentId:"sc-i1ocl9-1"})(["overflow:auto;margin:1rem;width:100%;max-width:95%;row-gap:1rem;column-gap:1rem;border-collapse:collapse;td{padding:.25rem .5rem;text-align:center;}thead{td{font-weight:bold;}}tr{text-align:center;}"]);function mn(e){var n=new Date(e);return"".concat(n.toLocaleDateString("fr-FR")," ").concat(n.toLocaleTimeString("fr-FR"))}function gn(){var e=(0,a.useState)(0),n=e[0],t=e[1],o=(0,a.useState)(0),i=o[0],s=o[1],d=(0,a.useState)(""),u=d[0],l=d[1],h=(0,a.useState)([]),x=h[0],f=h[1],v=(0,c.v9)((function(e){return e.darkMode})),m=function(){var e=(0,_.Z)(N().mark((function e(t){var r,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=localStorage.getItem("token"),e.next=5,T().get("".concat(E.T,"/admin/pixelLogs/").concat(u,"/").concat(n,"/").concat(i),{headers:{Authorization:r}});case 5:o=e.sent,f(o.data||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:v,children:[(0,r.jsx)(an,{darkMode:v,children:"Coordinate Pixel Logs"}),(0,r.jsxs)(cn,{darkMode:v,onSubmit:m,children:[(0,r.jsxs)(un,{darkMode:v,onPaste:function(e){return(0,xn.$d)(e,t,s,l)},children:[(0,r.jsx)(sn,{darkMode:v,placeholder:"Coord X",type:"number",value:n,onChange:function(e){return t(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:v,placeholder:"Coord Y",type:"number",value:i,onChange:function(e){return s(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:v,onPaste:function(e){return(0,xn.$d)(e,t,s,l)},children:[(0,r.jsx)(sn,{darkMode:v,placeholder:"Canvas",type:"text",value:u,onChange:function(e){return l(e.target.value)}}),(0,r.jsx)("button",{children:(0,r.jsx)(p.Z,{})})]})]}),x.length?(0,r.jsx)(fn,{children:(0,r.jsxs)(vn,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Date"}),(0,r.jsx)("th",{children:"IP"}),(0,r.jsx)("th",{children:"User Id"}),(0,r.jsx)("th",{children:"Username"}),(0,r.jsx)("th",{children:"Position"}),(0,r.jsx)("th",{children:"Color"})]})}),(0,r.jsx)("tbody",{children:x.map((function(e,n){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:mn(e.createdAt)}),(0,r.jsx)("td",{children:e.ip}),(0,r.jsx)("td",{children:e.userId}),(0,r.jsx)("td",{children:e.username}),(0,r.jsxs)("td",{children:[e.pos.x,",",e.pos.y]}),(0,r.jsxs)("td",{children:[(0,r.jsx)("div",{style:{display:"inline-block",height:"10px",width:"10px",backgroundColor:e.color,marginRight:".5rem"}}),e.color]})]},n)}))})]})}):null]})}function yn(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)([]),i=o[0],s=o[1],d=(0,c.v9)((function(e){return e.darkMode})),u=function(){var e=(0,_.Z)(N().mark((function e(t){var r,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=localStorage.getItem("token"),e.next=5,T().get("".concat(E.T,"/admin/userPixelLogs/").concat(n),{headers:{Authorization:r}});case 5:o=e.sent,s(o.data||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:d,children:[(0,r.jsx)(an,{darkMode:d,children:"User Pixel Logs"}),(0,r.jsx)(cn,{darkMode:d,onSubmit:u,children:(0,r.jsxs)(un,{darkMode:d,children:[(0,r.jsx)(sn,{darkMode:d,placeholder:"Username",type:"text",onChange:function(e){return t(e.target.value)}}),(0,r.jsx)("button",{children:(0,r.jsx)(p.Z,{})})]})}),i.length?(0,r.jsx)(fn,{children:(0,r.jsxs)(vn,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Date"}),(0,r.jsx)("th",{children:"Ip"}),(0,r.jsx)("th",{children:"User Id"}),(0,r.jsx)("th",{children:"Username"}),(0,r.jsx)("th",{children:"Canvas"}),(0,r.jsx)("th",{children:"Position"}),(0,r.jsx)("th",{children:"Color"})]})}),(0,r.jsx)("tbody",{children:i.map((function(e,n){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:mn(e.createdAt)}),(0,r.jsx)("td",{children:e.ip}),(0,r.jsx)("td",{children:e.userId}),(0,r.jsx)("td",{children:e.username}),(0,r.jsx)("td",{children:e.canvas}),(0,r.jsxs)("td",{children:[e.pos.x,",",e.pos.y]}),(0,r.jsxs)("td",{children:[(0,r.jsx)("div",{style:{display:"inline-block",height:"10px",width:"10px",backgroundColor:e.color,marginRight:".5rem"}}),e.color]})]},n)}))})]})}):null]})}function jn(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)([]),i=o[0],s=o[1],d=(0,c.v9)((function(e){return e.darkMode})),u=function(){var e=(0,_.Z)(N().mark((function e(t){var r,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=localStorage.getItem("token"),e.next=5,T().get("".concat(E.T,"/admin/ipPixelLogs/").concat(n),{headers:{Authorization:r}});case 5:o=e.sent,s(o.data||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:d,children:[(0,r.jsx)(an,{darkMode:d,children:"IP Pixel Logs"}),(0,r.jsx)(cn,{darkMode:d,onSubmit:u,children:(0,r.jsxs)(un,{darkMode:d,children:[(0,r.jsx)(sn,{darkMode:d,placeholder:"Ip",type:"text",onChange:function(e){return t(e.target.value)}}),(0,r.jsx)("button",{children:(0,r.jsx)(p.Z,{})})]})}),i.length?(0,r.jsx)(fn,{children:(0,r.jsxs)(vn,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Date"}),(0,r.jsx)("th",{children:"Ip"}),(0,r.jsx)("th",{children:"User Id"}),(0,r.jsx)("th",{children:"Username"}),(0,r.jsx)("th",{children:"Canvas"}),(0,r.jsx)("th",{children:"Position"}),(0,r.jsx)("th",{children:"Color"})]})}),(0,r.jsx)("tbody",{children:i.map((function(e,n){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:mn(e.createdAt)}),(0,r.jsx)("td",{children:e.ip}),(0,r.jsx)("td",{children:e.userId}),(0,r.jsx)("td",{children:e.username}),(0,r.jsx)("td",{children:e.canvas}),(0,r.jsxs)("td",{children:[e.pos.x,",",e.pos.y]}),(0,r.jsxs)("td",{children:[(0,r.jsx)("div",{style:{display:"inline-block",height:"10px",width:"10px",backgroundColor:e.color,marginRight:".5rem"}}),e.color]})]},n)}))})]})}):null]})}function kn(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(gn,{}),(0,r.jsx)(yn,{}),(0,r.jsx)(jn,{})]})}function wn(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)(""),i=o[0],s=o[1],d=(0,a.useState)(0),u=d[0],l=d[1],p=(0,a.useState)(0),h=p[0],x=p[1],f=(0,a.useState)(""),v=f[0],m=f[1],g=(0,a.useState)(""),y=g[0],j=g[1],k=(0,c.v9)((function(e){return e.darkMode})),w=function(){var e=(0,_.Z)(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,m(""),j(""),r=localStorage.getItem("token"),e.next=7,T().post("".concat(E.T,"/admin/import"),{input:n,canvas:i,x:u,y:h},{headers:{Authorization:r}});case 7:m("success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),j(e.t0.response.data||e.t0.message),m("error");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:k,status:v,children:[(0,r.jsx)(an,{darkMode:k,children:"Import Image"}),(0,r.jsxs)(cn,{darkMode:k,onSubmit:w,children:[(0,r.jsxs)(un,{darkMode:k,children:[(0,r.jsx)(sn,{darkMode:k,placeholder:"URL",type:"text",value:n,onChange:function(e){return t(e.target.value)}}),(0,r.jsx)(sn,{darkMode:k,onPaste:function(e){return(0,xn.$d)(e,l,x,s)},placeholder:"Canvas",type:"text",value:i,onChange:function(e){return s(e.target.value)}})]}),(0,r.jsxs)(un,{darkMode:k,onPaste:function(e){return(0,xn.$d)(e,l,x,s)},children:[(0,r.jsx)(sn,{darkMode:k,placeholder:"X",type:"number",value:u,onChange:function(e){return l(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:k,placeholder:"Y",type:"number",value:h,onChange:function(e){return x(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:k,children:[(0,r.jsx)("div",{style:{flex:1}}),(0,r.jsx)("button",{children:(0,r.jsx)(tn.Z,{})})]})]}),y?(0,r.jsx)(on,{darkMode:k,children:y}):null]})}function bn(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)(0),i=o[0],s=o[1],d=(0,a.useState)(0),u=d[0],l=d[1],p=(0,a.useState)(0),h=p[0],x=p[1],f=(0,a.useState)(0),v=f[0],m=f[1],g=(0,a.useState)(""),y=g[0],j=g[1],k=(0,a.useState)(""),w=k[0],b=k[1],M=(0,a.useState)("#0000"),C=M[0],I=M[1],S=(0,c.v9)((function(e){return e.darkMode})),Z=function(){var e=(0,_.Z)(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,j(""),b(""),r=localStorage.getItem("token"),e.next=7,T().post("".concat(E.T,"/admin/fill"),{x:i,y:u,endX:h,endY:v,canvas:n,color:C},{headers:{Authorization:r}});case 7:j("success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),b(e.t0.response.data||e.t0.message),j("error");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:S,status:y,children:[(0,r.jsx)(an,{darkMode:S,children:"Erase"}),(0,r.jsxs)(cn,{darkMode:S,onSubmit:Z,children:[(0,r.jsxs)(un,{darkMode:S,onPaste:function(e){return(0,xn.$d)(e,s,l,t)},children:[(0,r.jsx)(sn,{darkMode:S,placeholder:"Start X",type:"number",value:i,onChange:function(e){return s(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:S,placeholder:"Start Y",type:"number",value:u,onChange:function(e){return l(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:S,onPaste:function(e){return(0,xn.$d)(e,x,m,t)},children:[(0,r.jsx)(sn,{darkMode:S,placeholder:"End X",type:"number",value:h,onChange:function(e){return x(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:S,placeholder:"End Y",type:"number",value:v,onChange:function(e){return m(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:S,children:[(0,r.jsx)(sn,{darkMode:S,placeholder:"Canvas",type:"text",value:n,onChange:function(e){return t(e.target.value)}}),(0,r.jsx)(sn,{darkMode:S,placeholder:"Color",type:"text",value:C,onChange:function(e){return I(e.target.value)}}),(0,r.jsx)("button",{children:(0,r.jsx)(tn.Z,{})})]})]}),w?(0,r.jsx)(on,{darkMode:S,children:w}):null]})}function Mn(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(wn,{}),(0,r.jsx)(bn,{})]})}function Cn(){var e=(0,a.useState)(0),n=e[0],t=e[1],o=(0,a.useState)(0),i=o[0],s=o[1],d=(0,a.useState)(0),u=d[0],l=d[1],p=(0,a.useState)(0),h=p[0],x=p[1],f=(0,a.useState)(""),v=f[0],m=f[1],g=(0,a.useState)(""),y=g[0],j=g[1],k=(0,a.useState)(""),w=k[0],b=k[1],M=(0,c.v9)((function(e){return e.darkMode})),C=(0,c.v9)((function(e){return e.npzMode})),I=(0,c.v9)((function(e){return e.npzList})),S=(0,c.I0)(),Z=function(){var e=(0,_.Z)(N().mark((function e(t){var r,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b(""),j(""),r=localStorage.getItem("token"),e.next=7,T().post("".concat(E.T,"/noPixelZone"),{startX:n,startY:i,endX:u,endY:h,canvas:v},{headers:{Authorization:r}});case 7:if(C){e.next=13;break}return e.next=10,T().get("".concat(E.T,"/noPixelZone"),{headers:{Authorization:r}});case 10:e.t0=e.sent.data,e.next=14;break;case 13:e.t0=I;case 14:o=e.t0,S({type:B.JX,payload:{activated:C,npzs:o}}),j("success"),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(1),b(e.t1.response.data||e.t1.message),j("error");case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:M,status:y,children:[(0,r.jsx)(an,{darkMode:M,children:"Create No Pixel Zone"}),(0,r.jsxs)(cn,{darkMode:M,onSubmit:Z,children:[(0,r.jsxs)(un,{darkMode:M,onPaste:function(e){return(0,xn.$d)(e,t,s,m)},children:[(0,r.jsx)(sn,{darkMode:M,placeholder:"Coord X",type:"number",value:n,onChange:function(e){return t(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:M,placeholder:"Coord Y",type:"number",value:i,onChange:function(e){return s(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:M,onPaste:function(e){return(0,xn.$d)(e,l,x,m)},children:[(0,r.jsx)(sn,{darkMode:M,placeholder:"Coord X",type:"number",value:u,onChange:function(e){return l(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:M,placeholder:"Coord Y",type:"number",value:h,onChange:function(e){return x(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:M,children:[(0,r.jsx)(sn,{darkMode:M,placeholder:"Canvas",type:"text",value:v,onChange:function(e){return m(e.target.value)}}),(0,r.jsx)("button",{children:(0,r.jsx)(tn.Z,{})})]})]}),w?(0,r.jsx)(on,{darkMode:M,children:w}):null]})}function In(){var e=(0,a.useState)(""),n=e[0],t=e[1],o=(0,a.useState)(""),i=o[0],s=o[1],d=(0,a.useState)(""),u=d[0],l=d[1],p=(0,c.v9)((function(e){return e.darkMode})),h=(0,c.v9)((function(e){return e.npzMode})),x=(0,c.v9)((function(e){return e.npzList})),f=(0,c.I0)(),v=function(){var e=(0,_.Z)(N().mark((function e(t){var r,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,l(""),s(""),r=localStorage.getItem("token"),e.next=7,T().delete("".concat(E.T,"/noPixelZone/").concat(n),{headers:{Authorization:r}});case 7:if(s("success"),h){e.next=14;break}return e.next=11,T().get("".concat(E.T,"/noPixelZone"),{headers:{Authorization:r}});case 11:e.t0=e.sent.data,e.next=15;break;case 14:e.t0=x;case 15:o=e.t0,f({type:B.JX,payload:{activated:h,npzs:o}}),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(1),l(e.t1.response.data||e.t1.message),s("error");case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:p,status:i,children:[(0,r.jsx)(an,{darkMode:p,children:"Delete No Pixel Zone"}),(0,r.jsx)(cn,{onSubmit:v,darkMode:p,children:(0,r.jsxs)(un,{darkMode:p,children:[(0,r.jsx)(sn,{placeholder:"npzId",type:"text",value:n,required:!0,onChange:function(e){return t(e.target.value)},darkMode:p}),(0,r.jsx)("button",{children:(0,r.jsx)(tn.Z,{})})]})}),u?(0,r.jsx)(on,{darkMode:p,children:u}):null]})}function Sn(){var e=(0,a.useState)(0),n=e[0],t=e[1],o=(0,a.useState)(0),i=o[0],s=o[1],d=(0,a.useState)(""),u=d[0],l=d[1],h=(0,a.useState)([]),x=h[0],f=h[1],v=(0,c.v9)((function(e){return e.darkMode})),m=function(){var e=(0,_.Z)(N().mark((function e(t){var r,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=localStorage.getItem("token"),e.next=5,T().get("".concat(E.T,"/noPixelZone/byCoordinates/").concat(u,"/").concat(n,"/").concat(i),{headers:{Authorization:r}});case 5:o=e.sent,f(o.data||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(rn,{darkMode:v,children:[(0,r.jsx)(an,{darkMode:v,children:"Search No Pixel Zones"}),(0,r.jsxs)(cn,{darkMode:v,onSubmit:m,children:[(0,r.jsxs)(un,{darkMode:v,onPaste:function(e){return(0,xn.$d)(e,t,s,l)},children:[(0,r.jsx)(sn,{darkMode:v,placeholder:"Coord X",type:"number",value:n,onChange:function(e){return t(Number(e.target.value))}}),(0,r.jsx)(sn,{darkMode:v,placeholder:"Coord Y",type:"number",value:i,onChange:function(e){return s(Number(e.target.value))}})]}),(0,r.jsxs)(un,{darkMode:v,onPaste:function(e){return(0,xn.$d)(e,t,s,l)},children:[(0,r.jsx)(sn,{darkMode:v,placeholder:"Canvas",type:"text",value:u,onChange:function(e){return l(e.target.value)}}),(0,r.jsx)("button",{children:(0,r.jsx)(p.Z,{})})]})]}),x.length?(0,r.jsx)(fn,{children:(0,r.jsxs)(vn,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"ID"}),(0,r.jsx)("th",{children:"Canvas"}),(0,r.jsx)("th",{children:"Start X"}),(0,r.jsx)("th",{children:"Start Y"}),(0,r.jsx)("th",{children:"End X"}),(0,r.jsx)("th",{children:"End Y"})]})}),(0,r.jsx)("tbody",{children:x.map((function(e,n){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.id}),(0,r.jsx)("td",{children:e.startX}),(0,r.jsx)("td",{children:e.startY}),(0,r.jsx)("td",{children:e.endX}),(0,r.jsx)("td",{children:e.endY})]},n)}))})]})}):null]})}function Nn(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Cn,{}),(0,r.jsx)(In,{}),(0,r.jsx)(Sn,{})]})}var _n,Zn=i.ZP.div.withConfig({displayName:"Moderation__Container",componentId:"sc-ncpb0r-0"})(["display:flex;flex-direction:column;align-items:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;gap:1rem;"]),Tn=i.ZP.div.withConfig({displayName:"Moderation__TabList",componentId:"sc-ncpb0r-1"})(["display:flex;flex-direction:row;align-items:center;gap:12px;> div{display:flex;align-items:center;justify-content:center;padding:8px;border-radius:0.4rem;border:1px solid ",";cursor:pointer;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)})),On=i.ZP.div.withConfig({displayName:"Moderation__Component",componentId:"sc-ncpb0r-2"})(["width:calc(100% - 32px);"]),Pn=[{icon:(0,r.jsx)($e.Z,{}),component:(0,r.jsx)(kn,{})},{icon:(0,r.jsx)(w.Z,{}),component:(0,r.jsx)(hn,{})},{icon:(0,r.jsx)(j.Z,{}),component:(0,r.jsx)(Mn,{})}],En=[{icon:(0,r.jsx)(Qe.Z,{}),component:(0,r.jsx)(Nn,{})}];function Rn(){var e=(0,c.v9)((function(e){return e.darkMode})),n=(0,c.v9)((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.type)===ne.FW.ADMIN})),t=(0,a.useState)(0),o=t[0],i=t[1],s=[].concat(Pn,(0,he.Z)(n?En:[]));return(0,r.jsxs)(Zn,{children:[(0,r.jsx)(Tn,{darkMode:e,children:s.map((function(e,n){return(0,r.jsx)("div",{onClick:function(){return i(n)},children:e.icon},n)}))}),(0,r.jsx)(On,{children:s[o].component})]})}var Ln=i.ZP.div.withConfig({displayName:"Modal__ModalBackdrop",componentId:"sc-1r3s7ii-0"})(["position:absolute;top:0;right:0;width:100vw;height:100vh;z-index:100;background-color:",";"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKDROP,n)})),Bn=i.ZP.div.withConfig({displayName:"Modal__ModalContent",componentId:"sc-1r3s7ii-1"})(["position:relative;margin:10vh auto;z-index:1000;width:80vw;height:80vh;max-width:800px;background-color:",";color:",";box-sizing:border-box;padding:2.5rem 0;padding-bottom:0;font-family:Arial,Helvetica,sans-serif;text-align:center;line-height:1.5rem;display:flex;flex-direction:column;hr{margin:2rem 0;}button{outline:none;color:",";background-color:",";border:1px solid ",";border-radius:2px;padding:5px 10px;cursor:pointer;box-shadow:1px 1px 2px ",";transition:.5s;&:hover{box-shadow:2px 2px 3px ",";}}@media(max-width:500px){margin:0;width:100vw;height:100vh;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)})),An=i.ZP.div.withConfig({displayName:"Modal__ContentContainer",componentId:"sc-1r3s7ii-2"})(["max-height:calc(80vh - 2.5rem);overflow:auto;padding-bottom:2.5rem;"]),Dn=i.ZP.div.withConfig({displayName:"Modal__ModalTitle",componentId:"sc-1r3s7ii-3"})(["margin:0;position:absolute;top:1.5rem;left:1.5rem;font-size:1.5rem;font-weight:bold;"]),Un=i.ZP.div.withConfig({displayName:"Modal__CloseButton",componentId:"sc-1r3s7ii-4"})(["position:absolute;top:10px;right:10px;cursor:pointer;transition:0.1s;;&:hover{transform:scale(1.1);}"]),zn=(_n={},(0,o.Z)(_n,C.Z.NONE,{title:"",component:null,maxWidth:null}),(0,o.Z)(_n,C.Z.INFOS,{title:"infos:title",component:(0,r.jsx)(ge,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.PROBLEM,{title:"problem:title",component:(0,r.jsx)(ye,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.CONVERTER,{title:"converter:title",component:(0,r.jsx)(je.ZP,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.PARAMETERS,{title:"parameters:title",component:(0,r.jsx)(Ne,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.CAPTCHA,{title:"",component:(0,r.jsx)(Ee,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.OVERLAY,{title:"overlay:options",component:(0,r.jsx)(Ke,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.BOOKMARKS,{title:"bookmark:title",component:(0,r.jsx)(He,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.CANVASES,{title:"canvas:title",component:(0,r.jsx)(Je,{}),maxWidth:null}),(0,o.Z)(_n,C.Z.MODERATION,{title:"Moderation",component:(0,r.jsx)(Rn,{}),maxWidth:"80vw"}),_n);function Gn(){var e,n=(0,P.$G)().t,t=(0,c.v9)((function(e){return e.currentModal})),o=(0,c.v9)((function(e){return e.darkMode})),a=(0,c.I0)();return t===C.Z.NONE?null:(0,r.jsx)(Ln,{darkMode:o,onClick:function(){return a({type:M.i0,payload:C.Z.NONE})},children:(0,r.jsxs)(Bn,{darkMode:o,onClick:function(e){return e.stopPropagation()},style:{maxWidth:null!==(e=zn[t].maxWidth)&&void 0!==e?e:void 0},children:[(0,r.jsxs)("div",{style:{height:"2.5rem"},children:[(0,r.jsx)(Dn,{children:n(zn[t].title)}),(0,r.jsx)(Un,{onClick:function(){return a({type:M.i0,payload:C.Z.NONE})},children:(0,r.jsx)(pe.Z,{color:(0,z.L)(z.w.UI_BORDER,o)})})]}),(0,r.jsx)(An,{children:zn[t].component})]})})}var Kn=t(5471),Xn=i.ZP.div.withConfig({displayName:"PaletteList__Container",componentId:"sc-ej5uit-0"})(["position:fixed;right:10px;bottom:10px;display:flex;flex-direction:column-reverse;align-items:flex-end;gap:5px;"]),Fn=(0,i.ZP)(G).withConfig({displayName:"PaletteList__OpenButton",componentId:"sc-ej5uit-1"})(["transition:0.5s;width:calc(25px + 8px);@media (max-height:800px){width:calc(2 * 25px + 8px);}@media (max-height:450px){width:calc(5 * 25px + 8px);}"]),Wn=i.ZP.div.withConfig({displayName:"PaletteList__Palette",componentId:"sc-ej5uit-2"})(["padding:3px;color:",";background-color:",";border:1px solid ",";overflow:hidden;display:flex;flex-flow:column wrap;height:calc(","*25px);transition:0.5s;@media (max-height:800px){height:calc("," * 25px);width:calc("," * 25px);}@media (max-height:450px){height:calc("," * 25px);width:calc("," * 25px);}",";"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.colorsNb;return Math.min(30,n)}),(function(e){var n=e.colorsNb;return Math.min(15,n)}),(function(e){var n=e.colorsNb;return Math.ceil(n/Math.min(15,n))}),(function(e){var n=e.colorsNb;return Math.min(6,n)}),(function(e){var n=e.colorsNb;return Math.ceil(n/Math.min(6,n))}),(function(e){return!e.show&&(0,i.iv)(["height:0px !important;"])})),Hn=i.ZP.div.withConfig({displayName:"PaletteList__PaletteButton",componentId:"sc-ej5uit-3"})(["width:25px;height:25px;cursor:pointer;transition:0.2s;box-sizing:border-box;&:hover{transform:scale(1.1);box-shadow:0px 0px 5px ",";}",""],(function(e){var n=e.darkMode;return(0,z.L)(z.w.LIGHT_TEXT,n)}),(function(e){var n=e.selected,t=e.darkMode;return n&&"\n    transform: scale(1.1);\n    box-shadow: 0px 0px 5px ".concat((0,z.L)(z.w.LIGHT_TEXT,t),";\n    border: 1px solid ").concat((0,z.L)(z.w.UI_BORDER,!1),";\n    z-index: 10;\n  ")}));function Vn(){var e,n=(0,c.I0)(),t=(0,c.v9)((function(e){return e.selectedColor})),o=(0,c.v9)((function(e){return e.darkMode})),i=(0,c.v9)((function(e){return e.showPalette})),s=(0,c.v9)((function(e){return e.canvases.find((function(n){return n.id===e.currentCanvas}))})),u=(0,a.useState)(!0),l=u[0],p=u[1];return(0,a.useEffect)((function(){if(!l&&i){var e=setTimeout((function(){p(!0)}),0);return function(){return clearTimeout(e)}}l&&!i&&p(!1)}),[i]),(0,a.useEffect)((function(){if(!l&&i){var e=setTimeout((function(){n({type:R.Y1,payload:!1})}),500);return function(){return clearTimeout(e)}}}),[l]),(0,r.jsxs)(Xn,{children:[(0,r.jsx)(Fn,{darkMode:o,onClick:function(){i?p(!l):n({type:R.Y1,payload:!i})},children:(0,r.jsx)(Kn.Z,{})}),i&&(0,r.jsx)(Wn,{show:l,darkMode:o,colorsNb:null!==(e=null===s||void 0===s?void 0:s.palette.length)&&void 0!==e?e:0,children:null===s||void 0===s?void 0:s.palette.map((function(e,a){return(0,r.jsx)(Hn,{selected:t===e,style:{backgroundColor:e,transform:t===e?"scale(1.2)":""},darkMode:o,onClick:function(){var t;n({type:B.Du,payload:e}),null===(t=(0,d.mh)())||void 0===t||t.canvas.focus()}},a)}))})]})}var Yn=t(9646),Jn=i.ZP.div.withConfig({displayName:"PlayerCounter__Counter",componentId:"sc-m14wuf-0"})(["position:fixed;bottom:55px;left:10px;font-size:1rem;height:35px;background-color:",";border:1px solid ",";color:",";padding:0 10px;gap:5px;display:flex;align-items:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;user-select:none;"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}));function $n(e){if(e<1e3)return e;var n=Math.floor(e/1e3),t=Math.floor(e%1e3/100);return"".concat(n,".").concat(t,"k")}function Qn(){var e=(0,c.v9)((function(e){return e.playersNb})),n=(0,c.v9)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.totalPixels})),t=(0,c.v9)((function(e){return e.darkMode}));return(0,r.jsxs)(Jn,{darkMode:t,children:[(0,r.jsx)(Yn.Z,{height:"20px"}),e,n?(0,r.jsxs)(r.Fragment,{children:["\xa0\xa0\xa0\xa0\xa0",$n(n),(0,r.jsx)(b.Z,{height:"20px"})]}):null]})}var qn=i.ZP.div.withConfig({displayName:"Overlay__OverlayContainer",componentId:"sc-7dlkws-0"})(["position:fixed;top:10px;right:10px;font-size:1rem;background-color:",";border:1px solid ",";color:",";padding:5px 10px;min-width:50px;text-align:center;gap:10px;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;transition:.2s;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:flex-start;@media (max-height:450px){flex-direction:row;right:10px;max-width:50vw;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)})),et=i.ZP.div.withConfig({displayName:"Overlay__ActivateButton",componentId:"sc-7dlkws-1"})(["cursor:pointer;display:flex;flex-direction:row;gap:5px;padding:5px 0;margin-left:auto;align-items:center;user-select:none;"]),nt=i.ZP.div.withConfig({displayName:"Overlay__OpenButton",componentId:"sc-7dlkws-2"})(["cursor:pointer;margin:auto;"]),tt=i.ZP.div.withConfig({displayName:"Overlay__RangeSlider",componentId:"sc-7dlkws-3"})(["display:flex;flex-direction:row;align-items:center;gap:10px;user-select:none;input{user-select:none;}"]),rt=i.ZP.div.withConfig({displayName:"Overlay__CheckboxRow",componentId:"sc-7dlkws-4"})(["cursor:pointer;display:flex;flex-direction:row;align-items:center;gap:10px;"]),ot=i.ZP.span.withConfig({displayName:"Overlay__TaintedText",componentId:"sc-7dlkws-5"})(["font-size:0.8rem;max-width:220px;margin:0;"]),at=i.ZP.div.withConfig({displayName:"Overlay__SaveRow",componentId:"sc-7dlkws-6"})(["display:flex;flex-direction:row;align-items:center;width:80%;gap:1rem;"]),it=i.ZP.div.withConfig({displayName:"Overlay__OverlayOptions",componentId:"sc-7dlkws-7"})(["cursor:pointer;border:1px solid ",";border-radius:2px;padding:.25rem .5rem;transition:.2s;&:hover{opacity:0.8;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)})),ct=i.ZP.div.withConfig({displayName:"Overlay__OverlaySave",componentId:"sc-7dlkws-8"})(["cursor:pointer;transition:.2s;svg{color:",";transition:.2s;}&:hover{svg{opacity:0.8;}transform:scale(1.1);}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}));function st(){var e,n,t=(0,P.$G)("overlay").t,o=(0,c.I0)(),i=(0,c.v9)((function(e){return e.overlay.image})),s=(0,c.v9)((function(e){return e.overlay.activate})),d=(0,c.v9)((function(e){return e.overlay.transparency})),u=(0,c.v9)((function(e){return e.overlay.position})),l=(0,c.v9)((function(e){return e.overlay.positionMouse})),p=(0,c.v9)((function(e){return e.overlay.autoColor})),h=(0,c.v9)((function(e){return e.overlay.tainted})),v=(0,c.v9)((function(e){return e.overlay.open})),m=(0,c.v9)((function(e){return e.darkMode}));return(0,a.useEffect)((function(){i&&i.startsWith("http")&&(document.getElementById("url-input").value=i)}),[i]),(0,r.jsxs)(qn,{darkMode:m,children:[(0,r.jsxs)(et,{onClick:function(){o({type:De.QF,payload:!s})},children:[(0,r.jsx)("input",{type:"checkbox",checked:s,readOnly:!0}),t("title")]}),s&&(0,r.jsxs)(r.Fragment,{children:[v&&(0,r.jsxs)(r.Fragment,{children:[t("input"),(0,r.jsx)("input",{type:"url",id:"url-input",onChange:function(e){o({type:De.Hz,payload:e.target.value}),document.getElementById("file-input").value=""},placeholder:t("inputUrl")}),(0,r.jsx)("input",{type:"file",id:"file-input",onChange:function(e){if(e.target.files){var n=URL.createObjectURL(e.target.files[0]);o({type:De.Hz,payload:n}),document.getElementById("url-input").value=""}}}),(0,r.jsx)("br",{}),t("transparency"),(0,r.jsxs)(tt,{children:[(0,r.jsx)("input",{type:"range",min:0,max:1,step:.01,onChange:function(e){return o({type:De.U4,payload:Number(e.target.value)})},value:d}),(0,r.jsx)("span",{children:Math.round(100*d)})]}),(0,r.jsx)("br",{}),t("position"),(0,r.jsx)("input",{type:"number",onChange:function(e){return o({type:De.fA,payload:{x:e.target.value?Number(e.target.value):null,y:u.y}})},onBlur:function(){var e;return o({type:De.fA,payload:{x:null!==(e=u.x)&&void 0!==e?e:0,y:u.y}})},value:null!==(e=u.x)&&void 0!==e?e:""}),(0,r.jsx)("input",{type:"number",onChange:function(e){return o({type:De.fA,payload:{x:u.x,y:e.target.value?Number(e.target.value):null}})},onBlur:function(){var e;return o({type:De.fA,payload:{x:u.x,y:null!==(e=u.y)&&void 0!==e?e:0}})},value:null!==(n=u.y)&&void 0!==n?n:""}),(0,r.jsxs)(rt,{onClick:function(){return o({type:De.tt,payload:!l})},children:[(0,r.jsx)("input",{type:"checkbox",checked:l,readOnly:!0}),t("positionMouse")]}),(0,r.jsx)("br",{}),h?(0,r.jsx)(ot,{children:t("tainted")}):(0,r.jsxs)(rt,{onClick:function(){return o({type:De.El,payload:!p})},children:[(0,r.jsx)("input",{type:"checkbox",checked:p,readOnly:!0}),t("autoColor")]}),(0,r.jsx)("br",{}),(0,r.jsxs)(at,{children:[(0,r.jsx)(it,{onClick:function(){return o({type:M.i0,payload:C.Z.OVERLAY})},darkMode:m,children:t("options")}),i&&i.startsWith("http")?(0,r.jsx)(ct,{title:t("saveBtn"),onClick:function(){return function(){if(i&&i.startsWith("http")){var e,n,t=localStorage.getItem("savedOverlays")||"[]",r=JSON.parse(t),o=r.findIndex((function(e){return e.image===i})),a={image:i,transparency:d,position:{x:null!==(e=u.x)&&void 0!==e?e:0,y:null!==(n=u.y)&&void 0!==n?n:0},autoColor:p};-1!==o?r[o]=a:r.push(a),localStorage.setItem("savedOverlays",JSON.stringify(r))}}()},darkMode:m,children:(0,r.jsx)(k.Z,{})}):null]})]}),(0,r.jsx)(nt,{onClick:function(){return o({type:De.ao,payload:!v})},children:v?(0,r.jsx)(f.Z,{height:"20px"}):(0,r.jsx)(x.Z,{height:"20px"})})]})]})}var dt=t(1551),ut=i.ZP.div.withConfig({displayName:"Cooldown__CooldownContainer",componentId:"sc-tmgbhw-0"})(["position:fixed;top:10px;left:50vw;width:50px;transform:translate(-50%,0);font-size:1rem;height:35px;background-color:",";border:1px solid ",";padding:0 10px;gap:10px;display:flex;align-items:center;justify-content:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;transition:.5s;opacity:",";user-select:none;"],(function(e){var n=e.limit,t=e.darkMode;return(0,z.L)(n?z.w.ALERT:z.w.UI_BACKGROUND,t)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){return e.show?"1":"0"}));function lt(){var e=(0,P.$G)("notification").t,n=(0,a.useState)(0),t=n[0],o=n[1],i=(0,c.v9)((function(e){var n,t;return null!==(n=null===(t=e.cooldown)||void 0===t?void 0:t[e.currentCanvas])&&void 0!==n?n:0})),s=(0,c.v9)((function(e){return e.notifications})),u=(0,a.useState)(!1),l=u[0],p=u[1],h=(0,a.useState)(0),x=h[0],f=h[1],v=(0,c.v9)((function(e){return e.darkMode}));function m(){var n,t=Math.round((i-Date.now())/1e3);t>0?document.title="PixWorld | ".concat(t):(document.title="PixWorld",0===t&&(null===(n=(0,d.mh)())||void 0===n||n.soundController.playSound(dt.w.GOOD),s&&window.Notification&&"granted"===Notification.permission&&"hidden"===document.visibilityState&&Date.now()-x>2e4&&(new Notification(e("cooldown.title"),{body:e("cooldown.body"),renotify:!1,requireInteraction:!1,silent:!1,vibrate:[100,100]}),f(Date.now()))));o(t<0?0:t)}return(0,a.useEffect)((function(){var e=0===t?setTimeout((function(){return p(!1)}),1e3):void 0;return function(){e&&clearTimeout(e)}}),[t]),(0,a.useEffect)((function(){p(!0);var e=setTimeout((function(){return m()}),0),n=setInterval((function(){return m()}),1e3);return function(){clearTimeout(e),clearInterval(n)}}),[i]),(0,r.jsx)(r.Fragment,{children:l?(0,r.jsx)(ut,{show:t>0,limit:t>56,darkMode:v,children:t}):null})}function pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ht(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xt=i.ZP.div.withConfig({displayName:"Alert__AlertContainer",componentId:"sc-oa7prj-0"})(["position:fixed;top:55px;left:calc(50vw);transform:translate(-50%,0);font-size:1rem;text-align:center;color:",";background-color:",";border:",";border:1px solid #000;padding:10px;gap:10px;display:flex;align-items:center;justify-content:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;transition:.5s;opacity:",";user-select:none;"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){return e.bgColor}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}),(function(e){return e.show?"1":"0"}));function ft(){var e=(0,P.$G)("alerts").t,n=(0,c.I0)(),t=(0,c.v9)((function(e){return e.alert})),o=(0,c.v9)((function(e){return e.darkMode})),i=(0,a.useState)(!1),s=i[0],u=i[1];(0,a.useEffect)((function(){if(t.show){var e;null===(e=(0,d.mh)())||void 0===e||e.soundController.playSound(dt.w.OPTIONS);var r=setTimeout((function(){u(!0)}),0),o=setTimeout((function(){u(!1)}),2e3),a=setTimeout((function(){n({type:M.kA,payload:ht(ht({},t),{},{show:!1})})}),2500);return function(){clearTimeout(r),clearTimeout(o),clearTimeout(a)}}}),[t]);var l=void 0!==t.color?t.color:z.w.UI_BACKGROUND;return(0,r.jsx)(r.Fragment,{children:t.show&&t.text?(0,r.jsx)(xt,{show:s,bgColor:(0,z.L)(l,o),darkMode:o,children:e(t.text)}):null})}var vt=i.ZP.div.withConfig({displayName:"HistoryMode__HistoryContainer",componentId:"sc-1p4gtea-0"})(["position:fixed;top:10px;left:50vw;transform:translate(-50%,0);font-size:1rem;color:",";background-color:",";border:1px solid ",";padding:0.5rem 0.5rem;gap:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;transition:.5s;user-select:none;@media(max-width:500px){top:55px;}"],(function(e){var n=e.darkMode;return(0,z.L)(z.w.TEXT,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BACKGROUND,n)}),(function(e){var n=e.darkMode;return(0,z.L)(z.w.UI_BORDER,n)}));function mt(e){if(""===e)return"";var n=e.split("-"),t=(0,I.Z)(n,3),r=t[0],o=t[1],a=t[2];return"".concat(a,"-").concat(o,"-").concat(r)}function gt(e){if(""===e)return"";var n=e.split("-"),t=(0,I.Z)(n,3),r=t[0],o=t[1],a=t[2];return"".concat(a,"-").concat(o,"-").concat(r)}function yt(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.history.activate})),t=(0,c.v9)((function(e){return e.history.date})),o=(0,c.v9)((function(e){return e.currentCanvas})),i=(0,c.v9)((function(e){return e.darkMode})),s=(0,a.useState)((new Date).toLocaleDateString("fr-FR").replace(/\//g,"-")),u=s[0],l=s[1],p=(0,a.useState)([]),h=p[0],x=p[1],f=(0,a.useState)(!1),v=f[0],m=f[1];function g(){return(g=(0,_.Z)(N().mark((function e(){var n,t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(E.T,"/history/dates/").concat(o),e.next=4,T()(n);case 4:(t=e.sent).data.length&&l(t.data[0]),m(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return(j=(0,_.Z)(N().mark((function e(n){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&""!==n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t="".concat(E.T,"/history/hours/").concat(n,"/").concat(o),e.next=6,T()(t);case 6:r=e.sent,x(r.data||[]),k(r.data[0]||""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function k(n){var t;null===(t=(0,d.mh)())||void 0===t||t.clearHistoryChunks(),e({type:Ce.Qb,payload:n}),e({type:B.sW,payload:!0})}return(0,a.useEffect)((function(){n&&(v||function(){g.apply(this,arguments)}(),h.length||y(t))}),[n]),(0,a.useEffect)((function(){n&&""!==t&&y(t)}),[t]),(0,r.jsx)(r.Fragment,{children:n?(0,r.jsxs)(vt,{darkMode:i,children:["Select date:",(0,r.jsx)("input",{type:"date",id:"dateSelector",min:new Date(mt(u)).toISOString().slice(0,10),max:(new Date).toISOString().slice(0,10),defaultValue:function(){if(""!==t){var e=new Date(mt(t));return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,10)}return u}(),onChange:function(n){return function(n){var t;null===(t=(0,d.mh)())||void 0===t||t.clearHistoryChunks(),e({type:Ce.Qb,payload:""}),e({type:Ce.qb,payload:gt(n)})}(n.target.value)}}),(0,r.jsx)("select",{name:"hour",id:"hourSelect",onChange:function(e){return k(e.target.value)},children:h.map((function(e,n){return(0,r.jsx)("option",{value:e,children:e},n)}))})]}):null})}function jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var wt=i.ZP.div.withConfig({displayName:"indexpage__Container",componentId:"sc-hem1iu-0"})(["width:100vw;height:100vh;background-color:#F0F0F0;overflow:hidden;"]),bt=!0;function Mt(e){var n=e.wsHash,t=e.pos,o=e.initialReduxState,i=e.canvases,l=(0,s.oR)(o||kt(kt({},s.E3),{},{canvases:i}));return(0,a.useEffect)((function(){var e,n;localStorage.getItem("token")&&!l.getState().user&&(null===(e=(0,d.mh)())||void 0===e||e.connectionController.getMe(),null===(n=(0,d.mh)())||void 0===n||n.connectionController.sendToWs("reload",{}))}),[l]),(0,r.jsx)(c.zt,{store:l,children:(0,r.jsxs)(wt,{children:[(0,r.jsx)(Gn,{}),(0,r.jsx)(se,{}),(0,r.jsx)(st,{}),(0,r.jsx)(lt,{}),(0,r.jsx)(Vn,{}),(0,r.jsx)(ee,{}),(0,r.jsx)(Qn,{}),(0,r.jsx)(ue,{}),(0,r.jsx)(ft,{}),(0,r.jsx)(u,{wsHash:n,pos:t}),(0,r.jsx)(yt,{})]})})}},6057:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5876)}])}},function(e){e.O(0,[774,662,680,329,732,895,888,179],(function(){return n=6057,e(e.s=n);var n}));var n=e.O();_N_E=n}]);