(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{2511:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(5893),o=r(4651),i=r(1664),a=r(6819),c=r(4868),s=r(9163),l=s.ZP.div.withConfig({displayName:"sidebar__SideBarContainer",componentId:"sc-1e3kim6-0"})(["padding:.5rem;background-color:rgba(0,0,0,0.2);display:flex;flex-direction:column;align-items:center;gap:.5rem;height:100vh;box-sizing:border-box;position:relative;"]),u=s.ZP.div.withConfig({displayName:"sidebar__SideBarButton",componentId:"sc-1e3kim6-1"})(["background-color:hsla(0,0%,100%,0.04);width:55px;height:55px;max-width:55px;max-height:55px;border-radius:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.2s;svg{color:#ffffffa0;transition:.2s;}&:hover{border-radius:1rem;svg{color:#ffffff;}}"," @media(max-width:500px){width:22.5px;height:22.5px;svg{width:12px;height:12px;}border-radius:15px;","}"],(function(e){return e.active&&(0,s.iv)(["border-radius:1rem;background-color:#3eb1b1;"])}),(function(e){return e.active&&(0,s.iv)(["border-radius:0.5rem;"])}));function d(e){var t=e.currentPage,r=e.pages,s=e.routePrefix,d=(0,o.useRouter)();return(0,n.jsxs)(l,{children:[r.map((function(e,r){return(0,n.jsx)(i.default,{href:"/".concat(s,"/").concat(e.type),children:(0,n.jsx)(u,{title:e.name,active:t===e.type,children:e.icon})},r)})),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",position:"absolute",bottom:".5rem",gap:".5rem"},children:[(0,n.jsx)(u,{title:"Go to map",active:!1,onClick:function(){d.push("/")},children:(0,n.jsx)(a.Z,{})}),(0,n.jsx)(u,{title:"Disconnect",active:!1,onClick:function(){localStorage.removeItem("token"),d.push("/")},children:(0,n.jsx)(c.Z,{})})]})]})}},7400:function(e,t,r){"use strict";r.d(t,{B:function(){return y},Z:function(){return b}});var n=r(5893),o=r(7757),i=r.n(o),a=r(2137),c=r(9669),s=r.n(c),l=r(7296),u=r(7294),d=r(4309),p=r(2590),f=r(1414),h=r(7714),v=r(9163),x=r(7137),g=r(6915),m=r(3907),y=v.ZP.div.withConfig({displayName:"Settings__ShowBtn",componentId:"sc-1p6s045-0"})(["display:flex;align-items:center;position:absolute;cursor:pointer;right:1rem;user-select:none;svg{transition:.2s;}&:hover{svg{color:#4bc0c0;}}"]);function j(){var e=(0,l.$G)("stats").t,t=(0,h.I0)(),r=(0,u.useState)(""),o=r[0],c=r[1],v=(0,u.useState)(""),j=v[0],b=v[1],w=(0,u.useState)(!1),O=w[0],k=w[1],S=(0,u.useState)(""),P=S[0],T=S[1],I=(0,u.useState)(""),E=I[0],C=I[1],A=(0,u.useState)(!1),D=A[0],z=A[1],Z=function(){var r=(0,a.Z)(i().mark((function r(n){var a,c,l;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),C(""),T(""),z(!1),r.prev=4,a=localStorage.getItem("token")){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,s().put("".concat(x.T,"/user/me"),{password:o,email:j},{headers:{Authorization:a}});case 10:c=r.sent,t({type:m.QE,payload:c.data}),C("success"),j&&z(!0),r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),C("error"),T((null===(l=r.t0.response)||void 0===l?void 0:l.data)||e("edit.error"));case 20:case"end":return r.stop()}}),r,null,[[4,16]])})));return function(e){return r.apply(this,arguments)}}();return(0,n.jsxs)(g.K3,{status:E,children:[(0,n.jsx)(g.$K,{children:e("edit.title")}),(0,n.jsxs)(g.yz,{onSubmit:Z,children:[(0,n.jsxs)(g.jP,{style:{position:"relative",alignItems:"center"},children:[(0,n.jsx)(g.VK,{placeholder:e("edit.password"),autoComplete:"new-password","aria-autocomplete":"list",type:O?"text":"password",value:o,onChange:function(e){return c(e.target.value)}}),(0,n.jsx)(y,{onClick:function(){return k(!O)},children:O?(0,n.jsx)(d.Z,{}):(0,n.jsx)(p.Z,{})})]}),(0,n.jsx)(g.jP,{children:(0,n.jsx)(g.VK,{placeholder:e("edit.email"),type:"email",name:"email",autoComplete:"email",required:!0,value:j,onChange:function(e){return b(e.target.value)}})}),(0,n.jsxs)(g.jP,{children:[D?(0,n.jsx)(g.bx,{style:{textAlign:"center",justifyContent:"center",flex:1},children:e("edit.verify")}):(0,n.jsx)("div",{style:{flex:1}}),(0,n.jsx)("button",{children:(0,n.jsx)(f.Z,{})})]})]}),P?(0,n.jsx)(g.Tv,{children:e(P)}):null]})}function b(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(j,{})})}},8794:function(e,t,r){"use strict";r.r(t),r.d(t,{Container:function(){return Ae},ContentContainer:function(){return De},PageTypes:function(){return Ee},__N_SSP:function(){return Ce},default:function(){return Ne},pages:function(){return ze}});var n=r(5893),o=r(7757),i=r.n(o),a=r(2137),c=r(7294),s=r(4651),l=r(9669),u=r.n(l),d=r(9163),p=r(7714),f=r(5697),h=r.n(f);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var g=(0,c.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,o=e.size,i=void 0===o?24:o,a=x(e,["color","size"]);return c.createElement("svg",v({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),c.createElement("circle",{cx:"12",cy:"12",r:"3"}),c.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));g.propTypes={color:h().string,size:h().oneOfType([h().string,h().number])},g.displayName="Settings";var m=g,y=r(3752),j=r(9572),b=r(9646),w=r(7137),O=r(5848),k=r(3907),S=r(2511),P=r(6156),T=r(7296),I=r(5924),E=r(6915);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,P.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=d.ZP.div.withConfig({displayName:"Home__NotificationContainer",componentId:"sc-t563ax-0"})(["display:flex;flex-direction:column;max-height:500px;overflow-y:auto;gap:1rem;padding:1rem 0;"]),z=d.ZP.div.withConfig({displayName:"Home__NotificationBox",componentId:"sc-t563ax-1"})(["padding:1rem;display:flex;flex-direction:column;gap:0.5rem;margin:0 1rem;border-radius:1rem;background-color:rgba(0,0,0,0.2);h2{font-size:1.25rem;margin:0;}span{padding-top:1rem;}&:hover{background-color:rgba(0,0,0,0.3);}"]);function Z(){var e=(0,T.$G)("stats").t,t=(0,p.v9)((function(e){return e.user}));return(0,n.jsxs)(E.K3,{children:[(0,n.jsxs)(E.$K,{children:[null===t||void 0===t?void 0:t.username," - ",e("title")]}),(0,n.jsxs)(E.bx,{children:[(0,n.jsxs)("b",{children:[e("profile.pixelsToday"),":"]})," ",null===t||void 0===t?void 0:t.dailyPixels,(0,n.jsx)("br",{})]}),(0,n.jsxs)(E.bx,{children:[(0,n.jsxs)("b",{children:[e("profile.pixelsTotal"),":"]})," ",null===t||void 0===t?void 0:t.totalPixels,(0,n.jsx)("br",{})]})]})}function N(){var e=(0,T.$G)("stats").t,t=(0,c.useState)([]),r=t[0],o=t[1],s=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("".concat(w.T,"/notifications"));case 3:t=e.sent,o(t.data.map((function(e){return A(A({},e),{},{createdAt:new Date(e.createdAt)})}))),localStorage.setItem("lastReadNotificationDate",(new Date).toString()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){s()}),[]),(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{children:e("news.title")}),(0,n.jsx)(D,{children:r.map((function(e,t){return(0,n.jsxs)(z,{children:[(0,n.jsx)("h2",{children:e.title}),(0,n.jsx)("span",{children:(0,I.Z)(e.text,(function(){}),!1,0)})]},t)}))})]})}function _(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{}),(0,n.jsx)(N,{})]})}var L,R,K=r(871),M=d.ZP.table.withConfig({displayName:"Activity__RankingTable",componentId:"sc-1x104bs-0"})(["gap:0;row-gap:0;column-gap:0;border-spacing:0;border-collapse:collapse;width:100%;td{padding:0.5rem 1rem;margin:0;text-align:center;}tr:nth-child(even){background-color:rgba(0,0,0,0.3);}"]),$=d.ZP.div.withConfig({displayName:"Activity__RankingSwitchButton",componentId:"sc-1x104bs-1"})(["cursor:pointer;transition:.2s;font-size:1.2rem;line-height:2rem;width:5rem;text-align:center;&:hover{color:#4bc0c0;}",""],(function(e){return e.selected&&(0,d.iv)(["font-size:1.5rem;color:#4bc0c0;"])})),B=d.ZP.div.withConfig({displayName:"Activity__ChartWrapper",componentId:"sc-1x104bs-2"})(["max-height:500px;canvas{max-width:100% !important;height:50vw !important;max-height:500px !important;}"]);function F(){var e=(0,T.$G)("stats").t,t=(0,c.useState)(L.TOTAL),r=t[0],o=t[1],s=(0,c.useState)({totalRanking:[],dailyRanking:[]}),l=s[0],d=s[1],p=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("".concat(w.T,"/ranking"));case 3:t=e.sent,d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){p()}),[]),(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{style:{marginBottom:0},children:e("ranking.title")}),(0,n.jsxs)(E.bx,{style:{justifyContent:"center",paddingTop:0},children:[(0,n.jsx)($,{onClick:function(){return o(L.TOTAL)},selected:r===L.TOTAL,children:e("ranking.totalRanking")}),(0,n.jsx)($,{onClick:function(){return o(L.DAILY)},selected:r===L.DAILY,children:e("ranking.dailyRanking")})]}),(0,n.jsx)(E.bx,{style:{overflowY:"auto",maxHeight:"500px",paddingLeft:0,paddingRight:0,alignItems:"baseline"},children:(0,n.jsxs)(M,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"#"}),(0,n.jsx)("th",{style:{wordBreak:"break-all"},children:e("ranking.username")}),(0,n.jsx)("th",{children:e("ranking.pixels")})]})}),(0,n.jsx)("tbody",{children:l[r].map((function(e,t){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t+1}),(0,n.jsx)("td",{children:e.username}),(0,n.jsx)("td",{children:r===L.TOTAL?e.totalPixels:e.dailyPixels})]},t)}))})]})}),(0,n.jsx)(E.bx,{style:{paddingTop:0},children:(0,n.jsx)("span",{style:{fontWeight:"lighter",fontSize:"0.8rem",color:"#777"},children:e("ranking.reset")})})]})}function W(){var e=(0,T.$G)("stats").t,t=(0,c.useState)(R.DAY),r=t[0],o=t[1],s=(0,c.useState)([]),l=s[0],d=s[1],p=function(){var e=(0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,u().get("".concat(w.T,"/activity/pixels/").concat(r),{headers:{Authorization:t}});case 4:n=e.sent,d(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){p();var e=setInterval((function(){return p()}),12e4);return function(){clearInterval(e)}}),[r]),(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{children:e("activity.pixels.title")}),(0,n.jsxs)(E.bx,{style:{justifyContent:"center",paddingTop:0},children:[(0,n.jsx)($,{onClick:function(){return o(R.DAY)},selected:r===R.DAY,children:e("activity.pixels.day")}),(0,n.jsx)($,{onClick:function(){return o(R.WEEK)},selected:r===R.WEEK,children:e("activity.pixels.week")}),(0,n.jsx)($,{onClick:function(){return o(R.MONTH)},selected:r===R.MONTH,children:e("activity.pixels.month")})]}),(0,n.jsx)(B,{children:(0,n.jsx)(K.x1,{style:{padding:"1rem"},options:{maintainAspectRatio:!1,responsive:!0,scales:{y:{beginAtZero:!0}},animation:!1},data:{labels:l.map((function(e){return new Date(e.createdAt).toLocaleTimeString("fr-FR")})),datasets:[{label:e("activity.pixels.legend"),fill:!1,lineTension:.1,borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:l.map((function(e){return e.pixelPlaced}))}]},height:500,width:1500})})]})}function H(){var e=(0,T.$G)("stats").t,t=(0,c.useState)({}),r=t[0],o=t[1],s=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,u().get("".concat(w.T,"/activity/colors"),{headers:{Authorization:t}});case 4:r=e.sent,o(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){s();var e=setInterval((function(){return s()}),12e4);return function(){clearInterval(e)}}),[]),(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{children:e("activity.colors.title")}),(0,n.jsx)(B,{children:(0,n.jsx)(K.by,{style:{padding:"1rem"},options:{maintainAspectRatio:!1,responsive:!0},data:{datasets:[{label:"Placed colors",data:Object.keys(r).map((function(e){return r[e]})),backgroundColor:Object.keys(r),borderWidth:0}]},height:500,width:1500})})]})}function U(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F,{}),(0,n.jsx)(W,{}),(0,n.jsx)(H,{})]})}!function(e){e.TOTAL="totalRanking",e.DAILY="dailyRanking"}(L||(L={})),function(e){e.DAY="d",e.WEEK="w",e.MONTH="m"}(R||(R={}));var G=r(7400),Y=r(8134),V=d.ZP.table.withConfig({displayName:"List__Table",componentId:"sc-f2c0iy-0"})(["gap:0;row-gap:0;column-gap:0;border-spacing:0;border-collapse:collapse;width:100%;td{padding:0.5rem 1rem;margin:0;}tr:nth-child(even){background-color:rgba(0,0,0,0.3);}"]);function q(){var e=(0,Y.$)("faction").t,t=(0,s.useRouter)(),r=(0,c.useState)([]),o=r[0],l=r[1],d=function(){var e=(0,a.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return",t.replace(t.basePath));case 4:return e.next=6,u().get("".concat(w.T,"/factions"),{headers:{Authorization:r}});case 6:n=e.sent,l(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){d()}),[]),(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{children:e("list.title")}),(0,n.jsx)(E.bx,{children:(0,n.jsxs)(V,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Description"}),(0,n.jsx)("th",{children:"Total pixels"})]})}),(0,n.jsx)("tbody",{children:o.map((function(e,t){return(0,n.jsxs)("tr",{children:[(0,n.jsxs)("td",{style:{flex:"none"},children:["[",e.tag,"] ",e.name]}),(0,n.jsx)("td",{children:e.description}),(0,n.jsxs)("td",{style:{textAlign:"right"},children:[e.totalPixelCount," Pixels"]})]},t)}))})]})})]})}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var J=(0,c.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,o=e.size,i=void 0===o?24:o,a=X(e,["color","size"]);return c.createElement("svg",Q({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),c.createElement("polyline",{points:"17 11 12 6 7 11"}),c.createElement("polyline",{points:"17 18 12 13 7 18"}))}));J.propTypes={color:h().string,size:h().oneOfType([h().string,h().number])},J.displayName="ChevronsUp";var ee=J;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ne=(0,c.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,o=e.size,i=void 0===o?24:o,a=re(e,["color","size"]);return c.createElement("svg",te({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),c.createElement("polyline",{points:"7 13 12 18 17 13"}),c.createElement("polyline",{points:"7 6 12 11 17 6"}))}));ne.propTypes={color:h().string,size:h().oneOfType([h().string,h().number])},ne.displayName="ChevronsDown";var oe=ne;function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ce=(0,c.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,o=e.size,i=void 0===o?24:o,a=ae(e,["color","size"]);return c.createElement("svg",ie({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),c.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),c.createElement("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),c.createElement("line",{x1:"23",y1:"8",x2:"18",y2:"13"}))}));ce.propTypes={color:h().string,size:h().oneOfType([h().string,h().number])},ce.displayName="UserX";var se=ce,le=r(1414);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var pe=(0,c.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,o=e.size,i=void 0===o?24:o,a=de(e,["color","size"]);return c.createElement("svg",ue({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),c.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));pe.propTypes={color:h().string,size:h().oneOfType([h().string,h().number])},pe.displayName="X";var fe=pe,he=r(833),ve=r(635);function xe(){var e=(0,T.$G)("faction").t,t=(0,p.v9)((function(e){return e.faction}));return(0,n.jsxs)(E.K3,{children:[(0,n.jsxs)(E.$K,{children:["[",null===t||void 0===t?void 0:t.tag,"] ",null===t||void 0===t?void 0:t.name]}),(0,n.jsxs)(E.bx,{children:[t.description||(0,n.jsx)("i",{children:e("infos.noDescription")}),(0,n.jsx)("div",{style:{flex:1}})]})]})}function ge(e){var t=e.role,r=(0,T.$G)("faction").t,o=(0,p.v9)((function(e){return e.faction})),s=(0,p.v9)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.factionMember})),l=(0,c.useState)([]),d=l[0],f=l[1],h=[ve.U_.ADMIN,ve.U_.MOD,ve.U_.PLAYER,ve.U_.NEW],v=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u().get("".concat(w.T,"/faction/").concat(o.id,"/members"),{headers:{Authorization:t}});case 6:r=e.sent,f(r.data.sort((function(e,t){return h.findIndex((function(t){return t===e.role}))-h.findIndex((function(e){return e===t.role}))}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u().put("".concat(w.T,"/faction/").concat(o.id,"/member/").concat(t),{role:r},{headers:{Authorization:n}});case 6:v(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u().delete("".concat(w.T,"/faction/").concat(o.id,"/member/").concat(t),{headers:{Authorization:r}});case 6:v(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){v()}),[]);var m=h.findIndex((function(e){return e===t}));return(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{children:r("members.title")}),(0,n.jsx)(E.bx,{children:(0,n.jsx)(Te,{children:d.map((function(e,t){var r=h.findIndex((function(t){return t===e.role}));return(0,n.jsxs)("div",{children:[e.role," | ",e.username,m<=1&&m<=r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{flex:1}}),e.id!==(null===s||void 0===s?void 0:s.id)&&e.role!==ve.U_.ADMIN?(0,n.jsx)(E.zx,{onClick:function(){return x(e.id,h[r-1])},style:{padding:"0.5rem"},children:(0,n.jsx)(ee,{})}):(0,n.jsx)("div",{style:{width:"40px"}}),e.id!==(null===s||void 0===s?void 0:s.id)&&e.role!==ve.U_.NEW?(0,n.jsx)(E.zx,{onClick:function(){return x(e.id,h[r+1])},style:{padding:"0.5rem"},children:(0,n.jsx)(oe,{})}):(0,n.jsx)("div",{style:{width:"40px"}}),(null===s||void 0===s?void 0:s.role)===ve.U_.ADMIN&&e.id!==(null===s||void 0===s?void 0:s.id)&&e.role!==ve.U_.ADMIN?(0,n.jsx)(E.zx,{onClick:function(){return g(e.id)},style:{padding:"0.5rem"},children:(0,n.jsx)(se,{})}):null]})]},t)}))})})]})}function me(){var e=(0,T.$G)("faction").t,t=(0,p.v9)((function(e){return e.faction})),r=(0,c.useState)([]),o=r[0],s=r[1],l=(0,c.useState)(""),d=l[0],f=l[1],h=(0,c.useState)(""),v=h[0],x=h[1],g=(0,c.useState)(""),m=g[0],y=g[1],j=function(){var e=(0,a.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u().get("".concat(w.T,"/faction/").concat(t.id,"/invites"),{headers:{Authorization:r}});case 6:n=e.sent,s(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)(i().mark((function e(r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),x(""),y(""),e.prev=3,n=localStorage.getItem("token")){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,u().post("".concat(w.T,"/faction/").concat(t.id,"/invite"),{username:d},{headers:{Authorization:n}});case 9:j(),f(""),x("success"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),x("error"),y(null===(o=e.t0.response)||void 0===o?void 0:o.data);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u().delete("".concat(w.T,"/faction/").concat(t.id,"/invite/").concat(r),{headers:{Authorization:n}});case 6:s(o.filter((function(e){return e.id!==r}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){j()}),[]),(0,n.jsxs)(E.K3,{status:v,children:[(0,n.jsx)(E.$K,{children:e("invites.title")}),(0,n.jsx)(E.yz,{onSubmit:b,children:(0,n.jsxs)(E.jP,{children:[(0,n.jsx)(E.VK,{placeholder:e("invites.username"),type:"username",name:"username",autoComplete:"username",required:!0,value:d,onChange:function(e){return f(e.target.value)}}),(0,n.jsx)("button",{children:(0,n.jsx)(le.Z,{})})]})}),m?(0,n.jsx)(E.Tv,{children:e(m)}):null,(0,n.jsx)(E.bx,{children:(0,n.jsx)(Te,{children:o.map((function(e,t){return(0,n.jsxs)("div",{children:[e.username," - ",new Date(e.createdAt).toLocaleDateString("fr-FR")+" "+new Date(e.createdAt).toLocaleTimeString("fr-FR"),(0,n.jsx)("div",{style:{flex:1}}),(0,n.jsx)(E.zx,{onClick:function(){return O(e.id)},title:"Cancel invite",style:{padding:"0.5rem"},children:(0,n.jsx)(fe,{})})]},t)}))})})]})}function ye(e){var t=e.role,r=(0,T.$G)("faction").t,o=(0,p.I0)(),s=(0,p.v9)((function(e){return e.faction})),l=(0,c.useState)(s.description),d=l[0],f=l[1],h=(0,c.useState)(""),v=h[0],x=h[1],g=(0,c.useState)(""),m=g[0],y=g[1],j=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x(""),y(""),e.prev=3,r=localStorage.getItem("token")){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,u().put("".concat(w.T,"/faction/").concat(s.id),{description:d},{headers:{Authorization:r}});case 9:n=e.sent,x("success"),o({type:ve.oC,payload:n.data}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),x("error"),y(null===(a=e.t0.response)||void 0===a?void 0:a.data);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(""),y(""),e.prev=2,t=localStorage.getItem("token")){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,u().delete("".concat(w.T,"/faction/").concat(s.id),{headers:{Authorization:t}});case 8:x("success"),o({type:ve.TL}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),x("error"),y(null===(r=e.t0.response)||void 0===r?void 0:r.data);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(""),y(""),e.prev=2,t=localStorage.getItem("token")){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,u().delete("".concat(w.T,"/faction/").concat(s.id,"/leave"),{headers:{Authorization:t}});case 8:x("success"),o({type:ve.TL}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),x("error"),y(null===(r=e.t0.response)||void 0===r?void 0:r.data);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return(0,n.jsxs)(E.K3,{status:v,children:[(0,n.jsx)(E.$K,{children:r("settings.title")}),t===ve.U_.ADMIN&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.yz,{onSubmit:j,children:(0,n.jsxs)(E.jP,{children:[(0,n.jsx)(E.VK,{placeholder:r("settings.description"),type:"description",name:"description",autoComplete:"description",required:!0,value:d,onChange:function(e){return f(e.target.value)}}),(0,n.jsx)("button",{children:(0,n.jsx)(le.Z,{})})]})}),(0,n.jsx)("div",{style:{border:"1px solid #ffffffc0",marginTop:"1rem"}})]}),(0,n.jsxs)(E.bx,{style:{justifyContent:"space-evenly"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("settings.quit"),(0,n.jsx)(E.zx,{onClick:O,children:(0,n.jsx)(se,{})})]}),t===ve.U_.ADMIN&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("settings.delete"),(0,n.jsx)(E.zx,{onClick:b,children:(0,n.jsx)(he.Z,{})})]})})]}),m?(0,n.jsx)(E.Tv,{children:r(m)}):null]})}function je(e){var t=e.factionId,r=e.role,o=(0,p.I0)(),s=(0,p.v9)((function(e){return e.faction})),l=function(){var e=(0,a.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u().get("".concat(w.T,"/faction/").concat(t),{headers:{Authorization:r}});case 6:n=e.sent,o({type:ve.oC,payload:n.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){l()}),[]),s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(xe,{}),(0,n.jsx)(ge,{role:r}),(r===ve.U_.ADMIN||r===ve.U_.MOD)&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(me,{})}),(0,n.jsx)(ye,{role:r})]}):(0,n.jsx)(n.Fragment,{})}var be=r(6445),we=r(3791);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){(0,P.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(){var e=(0,Y.$)("faction").t,t=(0,p.v9)((function(e){return e.user})),r=(0,p.I0)(),o=(0,c.useState)(""),s=o[0],l=o[1],d=(0,c.useState)(""),f=d[0],h=d[1],v=(0,c.useState)(""),x=v[0],g=v[1],m=(0,c.useState)(""),y=m[0],j=m[1],b=function(){var e=(0,a.Z)(i().mark((function e(n){var o,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),j(""),g(""),e.prev=3,o=localStorage.getItem("token")){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,u().post("".concat(w.T,"/faction"),{tag:f,name:s},{headers:{Authorization:o}});case 9:a=e.sent,r({type:we.QE,payload:ke(ke({},t),{},{factionMember:a.data.member})}),j("success"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),j("error"),g(null===(c=e.t0.response)||void 0===c?void 0:c.data);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsxs)(E.K3,{status:y,children:[(0,n.jsx)(E.$K,{children:e("create.title")}),(0,n.jsx)(E.bx,{children:e("create.description")}),(0,n.jsxs)(E.yz,{onSubmit:b,children:[(0,n.jsx)(E.jP,{children:(0,n.jsx)(E.VK,{placeholder:e("create.name"),type:"name",name:"name",autoComplete:"name",required:!0,value:s,onChange:function(e){return l(e.target.value)}})}),(0,n.jsxs)(E.jP,{children:[(0,n.jsx)(E.VK,{placeholder:e("create.tag"),type:"tag",name:"tag",autoComplete:"tag",required:!0,value:f,maxLength:4,onChange:function(e){return h(e.target.value)}}),(0,n.jsx)("button",{children:(0,n.jsx)(le.Z,{})})]})]}),x?(0,n.jsx)(E.Tv,{children:e(x)}):null]})}function Pe(){var e=(0,Y.$)("faction").t,t=(0,s.useRouter)(),r=(0,p.I0)(),o=(0,p.v9)((function(e){return e.user})),l=(0,c.useState)([]),d=l[0],f=l[1],h=function(){var e=(0,a.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("token")){e.next=4;break}return e.abrupt("return",t.replace(t.basePath));case 4:return e.next=6,u().get("".concat(w.T,"/faction/invites"),{headers:{Authorization:r}});case 6:n=e.sent,f(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,u().post("".concat(w.T,"/faction/accept/").concat(t),{},{headers:{Authorization:n}});case 4:a=e.sent,r({type:we.QE,payload:ke(ke({},o),{},{factionMember:a.data})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("token"),e.next=4,u().delete("".concat(w.T,"/faction/invites/").concat(t),{headers:{Authorization:r}});case 4:f(d.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){h()}),[]),(0,n.jsxs)(E.K3,{children:[(0,n.jsx)(E.$K,{children:e("nonMemberInvites.title")}),(0,n.jsx)(E.bx,{children:(0,n.jsx)(Te,{children:d.map((function(e,t){return(0,n.jsxs)("div",{children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("small",{children:["(",new Date(e.createdAt).toLocaleDateString("fr-FR")+" "+new Date(e.createdAt).toLocaleTimeString("fr-FR"),")"]}),"\xa0 [",e.faction.tag,"] ",e.faction.name]}),(0,n.jsx)("div",{style:{flex:1}}),(0,n.jsx)(E.zx,{onClick:function(){return v(e.id)},children:(0,n.jsx)(be.Z,{})}),(0,n.jsx)(E.zx,{onClick:function(){return x(e.id)},children:(0,n.jsx)(fe,{})})]},t)}))})})]})}var Te=d.ZP.div.withConfig({displayName:"Faction__List",componentId:"sc-tpb3sk-0"})(["width:100%;display:flex;flex-direction:column;gap:0.5rem;& > div{display:flex;flex-direction:row;align-items:center;gap:0.5rem;justify-content:space-between;}"]);function Ie(){var e=(0,p.v9)((function(e){return e.user}));return null!==e&&void 0!==e&&e.factionMember?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(je,{factionId:e.factionMember.faction,role:e.factionMember.role}),(0,n.jsx)("div",{style:{padding:"2.5rem"}}),(0,n.jsx)(q,{})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Se,{}),(0,n.jsx)(Pe,{}),(0,n.jsx)(q,{})]})}var Ee,Ce=!0,Ae=d.ZP.div.withConfig({displayName:"pagepage__Container",componentId:"sc-1trzbyv-0"})(["width:100vw;height:100vh;background-color:#202124;color:#ffffffc0;overflow:hidden;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;display:flex;flex-direction:row;"]),De=d.ZP.div.withConfig({displayName:"pagepage__ContentContainer",componentId:"sc-1trzbyv-1"})(["display:flex;flex-direction:column;align-items:stretch;width:100%;position:relative;box-sizing:border-box;overflow-y:auto;padding:5rem 2rem;@media(max-width:500px){padding:1rem 0.5rem;}"]);!function(e){e.HOME="home",e.ACTIVITY="activity",e.SETTINGS="settings",e.FACTION="faction"}(Ee||(Ee={}));var ze=[{type:Ee.HOME,icon:(0,n.jsx)(y.Z,{}),name:"Home",component:(0,n.jsx)(_,{})},{type:Ee.ACTIVITY,icon:(0,n.jsx)(j.Z,{}),name:"Activity",component:(0,n.jsx)(U,{})},{type:Ee.FACTION,icon:(0,n.jsx)(b.Z,{}),name:"Factions",component:(0,n.jsx)(Ie,{})},{type:Ee.SETTINGS,icon:(0,n.jsx)(m,{}),name:"Settings",component:(0,n.jsx)(G.Z,{})}];function Ze(){var e=(0,s.useRouter)(),t=(0,p.I0)(),r=(0,c.useState)(!1),o=r[0],l=r[1],d=function(){var r=(0,a.Z)(i().mark((function r(){var n,o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=localStorage.getItem("token")){r.next=6;break}e.replace("/user/login"),r.next=10;break;case 6:return r.next=8,u().get("".concat(w.T,"/user/me"),{headers:{Authorization:n}});case 8:o=r.sent,t({type:k.QE,payload:o.data});case 10:l(!0),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),console.error(r.t0),e.replace("/user/login");case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}();(0,c.useEffect)((function(){window&&!o&&d()}),[]);var f,h=e.query.page;return o?(0,n.jsxs)(Ae,{children:[(0,n.jsx)(S.Z,{currentPage:h,pages:ze,routePrefix:"user"}),(0,n.jsx)(De,{children:null===(f=ze.find((function(e){return e.type===h})))||void 0===f?void 0:f.component})]}):(0,n.jsx)(Ae,{children:"Logging in..."})}function Ne(){var e=(0,O.oR)(O.E3);return(0,n.jsx)(p.zt,{store:e,children:(0,n.jsx)(Ze,{})})}},635:function(e,t,r){"use strict";r.d(t,{U_:function(){return n},oC:function(){return c},TL:function(){return s},hp:function(){return l}});var n,o=r(6156);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.ADMIN="ADMIN",e.MOD="MOD",e.PLAYER="PLAYER",e.NEW="NEW"}(n||(n={}));var c="SET_FACTION",s="DEL_FACTION";var l=[{action:c,function:function(e,t){return a(a({},e),{},{faction:t.payload})}},{action:s,function:function(e,t){return a(a({},e),{},{faction:void 0,user:e.user?a(a({},e.user),{},{factionMember:void 0}):void 0})}}]},3907:function(e,t,r){"use strict";r.d(t,{QE:function(){return a},hp:function(){return c}});var n=r(6156);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a="SET_USER";var c=[{action:a,function:function(e,t){return i(i({},e),{},{user:t.payload})}},{action:"SET_NB_PIXELS",function:function(e,t){return e.user?i(i({},e),{},{user:i(i({},e.user),{},{totalPixels:t.payload.totalPixels,dailyPixels:t.payload.dailyPixels})}):e}}]},5848:function(e,t,r){"use strict";r.d(t,{E3:function(){return f},oR:function(){return x}});var n,o=r(6156),i=r(7294),a=r(879),c=r(3907),s=r(635),l=[c.hp,s.hp].flat();function u(e,t){var r=l.find((function(e){return(null===e||void 0===e?void 0:e.action)===t.type}));return r?r.function(e,t):e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={user:void 0},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return u(e,t)};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return(0,a.MT)(h,e)}function x(e){return(0,i.useMemo)((function(){return function(e){var t,r=null!==(t=n)&&void 0!==t?t:v(e);return e&&n&&(r=v(p(p({},n.getState()),e)),n=void 0),n||(n=r),r}(e)}),[e])}},4309:function(e,t,r){"use strict";var n=r(7294),o=r(5697),i=r.n(o);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,i=e.size,s=void 0===i?24:i,l=c(e,["color","size"]);return n.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),n.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));s.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},s.displayName="EyeOff",t.Z=s},2590:function(e,t,r){"use strict";var n=r(7294),o=r(5697),i=r.n(o);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,i=e.size,s=void 0===i?24:i,l=c(e,["color","size"]);return n.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),n.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),n.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));s.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},s.displayName="Eye",t.Z=s}}]);